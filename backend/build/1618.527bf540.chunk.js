(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[1618],{79194:(R,v,e)=>{"use strict";e.d(v,{v:()=>n});var t=e(53547),s=e(86706);function n(d,l){const o=(0,s.oR)();(0,t.useEffect)(()=>{o.injectReducer(d,l)},[o,d,l])}},7761:(R,v,e)=>{"use strict";e.d(v,{pl:()=>i,aY:()=>D,q5:()=>c.q});var t=e(53547),s=e(1784),n=e(18172);const d={data:[],isLoading:!0},o=(S,I)=>(0,n.ZP)(S,w=>{switch(I.type){case"GET_DATA_SUCCEEDED":{w.data=I.data,w.isLoading=!1;break}case"GET_DATA_ERROR":{w.isLoading=!1;break}default:return w}}),i=({ssoEnabled:S})=>{const[I,w]=(0,t.useReducer)(o,d),A=(0,s.lm)(),{get:y}=(0,s.kY)();return(0,t.useEffect)(()=>{(async()=>{try{if(!S){w({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:C}=await y("/admin/providers");w({type:"GET_DATA_SUCCEEDED",data:C})}catch(C){console.error(C),w({type:"GET_DATA_ERROR"}),A({type:"warning",message:{id:"notification.error"}})}})()},[y,S,A]),I};var r=e(14293),a=e.n(r),g=e(86896),u=e(89548),c=e(71926);const p="strapi-notification-seat-limit",O="https://cloud.strapi.io/profile/billing",M="https://strapi.io/billing/request-seats",D=()=>{const{formatMessage:S}=(0,g.Z)();let{license:I,isError:w,isLoading:A}=(0,c.q)();const y=(0,s.lm)(),{pathname:f}=(0,u.TH)(),{enforcementUserCount:C,permittedSeats:W,licenseLimitStatus:L,isHostedOnStrapiCloud:$}=I;(0,t.useEffect)(()=>{if(w||A)return;const K=!a()(W)&&!window.sessionStorage.getItem(`${p}-${f}`)&&(L==="AT_LIMIT"||L==="OVER_LIMIT");let U;L==="OVER_LIMIT"?U="warning":L==="AT_LIMIT"&&(U="softWarning"),K&&y({type:U,message:S({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:L}),title:S({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:L,enforcementUserCount:C,permittedSeats:W}),link:{url:$?O:M,label:S({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:$})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${p}-${f}`,!0)}})},[y,I,f,S,A,W,L,C,$,w])}},71926:(R,v,e)=>{"use strict";e.d(v,{q:()=>d});var t=e(53547),s=e(1784),n=e(88767);function d({enabled:l}={enabled:!0}){const{get:o}=(0,s.kY)(),{data:h,isError:i,isLoading:r}=(0,n.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:u}}=await o("/admin/license-limit-information");return u},{enabled:l}),a=h??{},g=t.useCallback(u=>(a?.features??[]).find(p=>p.name===u)?.options??{},[a?.features]);return{license:a,getFeature:g,isError:i,isLoading:r}}},11984:(R,v,e)=>{"use strict";e.d(v,{CI:()=>d,FP:()=>o,Js:()=>i,_V:()=>n,fC:()=>s,rI:()=>h,xn:()=>l});var t=e(86978);function s({status:r,data:a}){return{type:t.qZ,payload:{status:r,workflow:a}}}function n(r){return{type:t.x4,payload:{stageId:r}}}function d(r={}){return{type:t.Ot,payload:r}}function l(r,a){return{type:t.Nj,payload:{stageId:r,...a}}}function o(r,a){return{type:t.$k,payload:{newIndex:a,oldIndex:r}}}function h(r){return{type:t.VS,payload:r}}function i(){return{type:t.gu}}},43390:(R,v,e)=>{"use strict";e.d(v,{eJ:()=>A,lx:()=>I,h4:()=>y,fC:()=>w});var t=e(53547),s=e(17034),n=e(185),d=e(49066),l=e(53979),o=e(1784),h=e(67109),i=e(86896),r=e(52713),a=e(86978),g=e(11047),u=e(75515),c=e(12645),p=e(45697),O=e.n(p),M=e(1565);const P=(0,M.default)(g.k)`
  svg path {
    fill: ${({theme:f})=>f.colors.neutral600};
  }
`;function D({name:f}){return t.createElement(g.k,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",gap:3,hasRadius:!0,padding:3,shadow:"tableShadow",width:(0,o.Q1)(300)},t.createElement(P,{alignItems:"center",background:"neutral200",borderRadius:"50%",height:6,justifyContent:"center",width:6},t.createElement(c.Z,{width:`${8/16}rem`})),t.createElement(u.Z,{fontWeight:"bold"},f))}D.propTypes={name:O().string.isRequired};function S({type:f,item:C}){switch(f){case a.uL.STAGE:return t.createElement(D,{...C});default:return null}}function I(){return t.createElement(r.r,{renderItem:S})}function w({children:f}){return t.createElement(s.A,null,t.createElement(n.o,{tabIndex:-1},t.createElement(d.D,null,f)))}function A({href:f}){const{formatMessage:C}=(0,i.Z)();return t.createElement(o.rU,{startIcon:t.createElement(h.Z,null),to:f},C({id:"global.back",defaultMessage:"Back"}))}function y({title:f,subtitle:C,navigationAction:W,primaryAction:L}){return t.createElement(t.Fragment,null,t.createElement(o.SL,{name:f}),t.createElement(l.T,{navigationAction:W,primaryAction:L,title:f,subtitle:C}))}},38705:(R,v,e)=>{"use strict";e.d(v,{uT:()=>S,fC:()=>A,Dx:()=>D});var t=e(53547),s=e(75515),n=e(11047),d=e(42866),l=e(59946),o=e(41580),h=e(12028),i=e(80994),r=e(70968),a=e(45697),g=e.n(a),u=e(86896),c=e(1565);const p=e.p+"0cd5f8915b265d5b1856.png",O="limits-title",M="https://strapi.io/pricing-cloud",P="https://strapi.io/contact-sales";function D({children:y}){return t.createElement(s.Z,{variant:"alpha",id:O},y)}D.propTypes={children:g().node.isRequired};function S({children:y}){return t.createElement(s.Z,{variant:"omega"},y)}S.propTypes={children:g().node.isRequired};function I(){const{formatMessage:y}=(0,u.Z)();return t.createElement(n.k,{gap:2,paddingTop:4},t.createElement(i.Q,{variant:"default",isExternal:!0,href:M},y({id:"Settings.review-workflows.limit.cta.learn",defaultMessage:"Learn more"})),t.createElement(i.Q,{variant:"tertiary",isExternal:!0,href:P},y({id:"Settings.review-workflows.limit.cta.sales",defaultMessage:"Contact Sales"})))}const w=c.default.img`
  // Margin top|right reverse the padding of ModalBody
  margin-right: ${({theme:y})=>`-${y.spaces[7]}`};
  margin-top: ${({theme:y})=>`-${y.spaces[7]}`};
  width: 360px;
`;function A({children:y,isOpen:f,onClose:C}){const{formatMessage:W}=(0,u.Z)();return f?t.createElement(d.P,{labelledBy:O},t.createElement(l.f,null,t.createElement(n.k,{gap:2,paddingLeft:7,position:"relative"},t.createElement(n.k,{alignItems:"start",direction:"column",gap:2,width:"60%"},y,t.createElement(I,null)),t.createElement(n.k,{justifyContent:"end",height:"100%",width:"40%"},t.createElement(w,{src:p,"aria-hidden":!0,alt:"",loading:"lazy"}),t.createElement(o.x,{display:"flex",position:"absolute",right:0,top:0},t.createElement(h.h,{icon:t.createElement(r.Z,null),"aria-label":W({id:"global.close",defaultMessage:"Close"}),onClick:C})))))):null}A.defaultProps={isOpen:!1},A.propTypes={children:g().node.isRequired,isOpen:g().bool,onClose:g().func.isRequired}},68997:(R,v,e)=>{"use strict";e.d(v,{U:()=>b});var t=e(53547),s=e(41580),n=e(11047),d=e(1784),l=e(45697),o=e.n(l),h=e(86896),i=e(86706),r=e(1565),a=e(11984),g=e(75515),u=e(99782);const c=(0,r.default)(u.Z)`
  > circle {
    fill: ${({theme:m})=>m.colors.neutral150};
  }
  > path {
    fill: ${({theme:m})=>m.colors.neutral600};
  }
`,p=(0,r.default)(s.x)`
  border-radius: 26px;

  svg {
    height: ${({theme:m})=>m.spaces[6]};
    width: ${({theme:m})=>m.spaces[6]};

    > path {
      fill: ${({theme:m})=>m.colors.neutral600};
    }
  }

  &:hover {
    color: ${({theme:m})=>m.colors.primary600} !important;
    ${g.Z} {
      color: ${({theme:m})=>m.colors.primary600} !important;
    }

    ${c} {
      > circle {
        fill: ${({theme:m})=>m.colors.primary600};
      }
      > path {
        fill: ${({theme:m})=>m.colors.neutral100};
      }
    }
  }

  &:active {
    ${g.Z} {
      color: ${({theme:m})=>m.colors.primary600};
    }

    ${c} {
      > circle {
        fill: ${({theme:m})=>m.colors.primary600};
      }
      > path {
        fill: ${({theme:m})=>m.colors.neutral100};
      }
    }
  }
`;function O({children:m,...N}){return t.createElement(p,{as:"button",background:"neutral0",border:"neutral150",paddingBottom:3,paddingLeft:4,paddingRight:4,paddingTop:3,shadow:"filterShadow",...N},t.createElement(n.k,{gap:2},t.createElement(c,{"aria-hidden":!0}),t.createElement(g.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral500"},m)))}O.propTypes={children:o().node.isRequired};var M=e(63237),P=e(48734),D=e(74756),S=e(12028),I=e(63081),w=e(11276),A=e(67819),y=e(16364),f=e(70642),C=e(20022),W=e(12814),L=e(41054),$=e(61080),K=e(21440),U=e(21892),J=e(86978),Z=e(5318);const q=(0,Z.s)();function E(){return t.createElement(s.x,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",display:"block",hasRadius:!0,padding:6,shadow:"tableShadow"})}function k({id:m,index:N,canDelete:G,canReorder:ee,canUpdate:F,isOpen:te=!1,stagesCount:V}){const j=T=>`${T+1} of ${V}`,Y=T=>{X(x({id:"dnd.grab-item",defaultMessage:"{item}, grabbed. Current position in list: {position}. Press up and down arrow to change position, Spacebar to drop, Escape to cancel."},{item:B.value,position:j(T)}))},ie=T=>{X(x({id:"dnd.drop-item",defaultMessage:"{item}, dropped. Final position in list: {position}."},{item:B.value,position:j(T)}))},de=()=>{X(x({id:"dnd.cancel-item",defaultMessage:"{item}, dropped. Re-order cancelled."},{item:B.value}))},ce=(T,H)=>{X(x({id:"dnd.reorder",defaultMessage:"{item}, moved. New position in list: {position}."},{item:B.value,position:j(T)})),Q((0,a.FP)(H,T))},[ne,X]=t.useState(null),{formatMessage:x}=(0,h.Z)(),{trackUsage:ue}=(0,d.rS)(),Q=(0,i.I0)(),[ae,me]=t.useState(te),[B,oe,ge]=(0,L.U$)(`stages.${N}.name`),[z,re,fe]=(0,L.U$)(`stages.${N}.color`),[{handlerId:pe,isDragging:ve,handleKeyDown:Ee},he,ye,Se,se]=(0,K.Y9)(ee,{index:N,item:{name:B.value},onGrabItem:Y,onDropItem:ie,onMoveItem:ce,onCancel:de,type:J.uL.STAGE}),Te=(0,U.FE)(he,ye),we=q.map(({hex:T,name:H})=>({value:T,label:x({id:"Settings.review-workflows.stage.color.name",defaultMessage:"{name}"},{name:H}),color:T}));t.useEffect(()=>{se((0,$.rX)(),{captureDraggingState:!1})},[se,N]);const{themeColorName:Re}=(0,Z.k)(z.value)??{};return t.createElement(s.x,{ref:Te},ne&&t.createElement(M.T,{"aria-live":"assertive"},ne),ve?t.createElement(E,null):t.createElement(P.U,{size:"S",variant:"primary",onToggle:()=>{me(!ae),ae||ue("willEditStage")},expanded:ae,shadow:"tableShadow",error:oe.error??re?.error??!1,hasErrorMessage:!1},t.createElement(D.B,{title:B.value,togglePosition:"left",action:(G||F)&&t.createElement(n.k,null,G&&t.createElement(S.h,{background:"transparent",icon:t.createElement(C.Z,null),label:x({id:"Settings.review-workflows.stage.delete",defaultMessage:"Delete stage"}),noBorder:!0,onClick:()=>Q((0,a._V)(m))}),F&&t.createElement(S.h,{background:"transparent",forwardedAs:"div",role:"button",noBorder:!0,tabIndex:0,"data-handler-id":pe,ref:Se,label:x({id:"Settings.review-workflows.stage.drag",defaultMessage:"Drag"}),onClick:T=>T.stopPropagation(),onKeyDown:Ee},t.createElement(W.Z,null)))}),t.createElement(I.v,{padding:6,background:"neutral0",hasRadius:!0},t.createElement(w.r,{gap:4},t.createElement(A.P,{col:6},t.createElement(y.o,{...B,id:B.name,disabled:!F,label:x({id:"Settings.review-workflows.stage.name.label",defaultMessage:"Stage name"}),error:oe.error??!1,onChange:T=>{ge.setValue(T.target.value),Q((0,a.xn)(m,{name:T.target.value}))},required:!0})),t.createElement(A.P,{col:6},t.createElement(f.q4,{disabled:!F,error:re?.error??!1,id:z.name,required:!0,label:x({id:"content-manager.reviewWorkflows.stage.color",defaultMessage:"Color"}),onChange:T=>{fe.setValue(T),Q((0,a.xn)(m,{color:T}))},value:z.value.toUpperCase(),startIcon:t.createElement(n.k,{as:"span",height:2,background:z.value,borderColor:Re==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},we.map(({value:T,label:H,color:le})=>{const{themeColorName:Oe}=(0,Z.k)(le);return t.createElement(f.ag,{value:T,key:T,startIcon:t.createElement(n.k,{as:"span",height:2,background:le,borderColor:Oe==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},H)})))))))}k.propTypes=o().shape({id:o().number.isRequired,color:o().string.isRequired,canDelete:o().bool.isRequired,canReorder:o().bool.isRequired,canUpdate:o().bool.isRequired,stagesCount:o().number.isRequired}).isRequired;const _=(0,r.default)(s.x)`
  transform: translateX(-50%);
`;function b({canDelete:m,canUpdate:N,stages:G}){const{formatMessage:ee}=(0,h.Z)(),F=(0,i.I0)(),{trackUsage:te}=(0,d.rS)();return t.createElement(n.k,{direction:"column",gap:6,width:"100%"},t.createElement(s.x,{position:"relative",spacing:4,width:"100%"},t.createElement(_,{background:"neutral200",height:"100%",left:"50%",position:"absolute",top:"0",width:2,zIndex:1}),t.createElement(n.k,{direction:"column",alignItems:"stretch",gap:6,zIndex:2,position:"relative",as:"ol"},G.map((V,j)=>{const Y=V?.id??V.__temp_key__;return t.createElement(s.x,{key:`stage-${Y}`,as:"li"},t.createElement(k,{id:Y,index:j,isOpen:!V.id,canDelete:G.length>1&&m,canReorder:G.length>1,canUpdate:N,stagesCount:G.length}))}))),N&&t.createElement(O,{type:"button",onClick:()=>{F((0,a.CI)({name:""})),te("willCreateStage")}},ee({id:"Settings.review-workflows.stage.add",defaultMessage:"Add new stage"})))}b.defaultProps={canDelete:!0,canUpdate:!0,stages:[]},b.propTypes={canDelete:o().bool,canUpdate:o().bool,stages:o().arrayOf(o().shape({id:o().number,__temp_key__:o().number,name:o().string.isRequired}))}},85230:(R,v,e)=>{"use strict";e.d(v,{Y:()=>P});var t=e(53547),s=e(67730),n=e(75515),d=e(11276),l=e(67819),o=e(16364),h=e(1784),i=e(41054),r=e(45697),a=e.n(r),g=e(86896),u=e(86706),c=e(1565),p=e(11984);const O=(0,c.default)(s.ML)`
  padding-left: ${({theme:S})=>S.spaces[7]};
`,M=(0,c.default)(n.Z)`
  font-style: italic;
`;function P({canUpdate:S,contentTypes:{collectionTypes:I,singleTypes:w},currentWorkflow:A,workflows:y}){const{formatMessage:f,locale:C}=(0,g.Z)(),W=(0,u.I0)(),[L,$,K]=(0,i.U$)("name"),[U,J,Z]=(0,i.U$)("contentTypes"),q=(0,h.Xe)(C,{sensitivity:"base"});return t.createElement(d.r,{background:"neutral0",hasRadius:!0,gap:4,padding:6,shadow:"tableShadow"},t.createElement(l.P,{col:6},t.createElement(o.o,{...L,id:L.name,disabled:!S,label:f({id:"Settings.review-workflows.workflow.name.label",defaultMessage:"Workflow Name"}),error:$.error??!1,onChange:E=>{W((0,p.rI)({name:E.target.value})),K.setValue(E.target.value)},required:!0})),t.createElement(l.P,{col:6},t.createElement(s.NU,{...U,customizeContent:E=>f({id:"Settings.review-workflows.workflow.contentTypes.displayValue",defaultMessage:"{count} {count, plural, one {content type} other {content types}} selected"},{count:E.length}),disabled:!S,error:J.error??!1,id:U.name,label:f({id:"Settings.review-workflows.workflow.contentTypes.label",defaultMessage:"Associated to"}),onChange:E=>{W((0,p.rI)({contentTypes:E})),Z.setValue(E)},placeholder:f({id:"Settings.review-workflows.workflow.contentTypes.placeholder",defaultMessage:"Select"})},[...I.length>0?[{label:f({id:"Settings.review-workflows.workflow.contentTypes.collectionTypes.label",defaultMessage:"Collection Types"}),children:I.sort((E,k)=>q.compare(E.info.displayName,k.info.displayName)).map(E=>({label:E.info.displayName,value:E.uid}))}]:[],...w.length>0?[{label:f({id:"Settings.review-workflows.workflow.contentTypes.singleTypes.label",defaultMessage:"Single Types"}),children:w.map(E=>({label:E.info.displayName,value:E.uid}))}]:[]].map(E=>"children"in E?t.createElement(s.Ab,{key:E.label,label:E.label,values:E.children.map(k=>k.value.toString())},E.children.map(k=>{const{name:_}=y.find(b=>(A&&b.id!==A.id||!A)&&b.contentTypes.includes(k.value))??{};return t.createElement(O,{key:k.value,value:k.value},f({id:"Settings.review-workflows.workflow.contentTypes.assigned.notice",defaultMessage:"{label} {name, select, undefined {} other {<i>(assigned to <em>{name}</em> workflow)</i>}}"},{label:k.label,name:_,em:(...b)=>t.createElement(n.Z,{as:"em",fontWeight:"bold"},b),i:(...b)=>t.createElement(M,null,b)}))})):t.createElement(s.ML,{key:E.value,value:E.value},E.label)))))}const D=a().shape({uid:a().string.isRequired,info:a().shape({displayName:a().string.isRequired}).isRequired});P.defaultProps={canUpdate:!0,currentWorkflow:void 0},P.propTypes={canUpdate:a().bool,contentTypes:a().shape({collectionTypes:a().arrayOf(D).isRequired,singleTypes:a().arrayOf(D).isRequired}).isRequired,currentWorkflow:a().object,workflows:a().array.isRequired}},86978:(R,v,e)=>{"use strict";e.d(v,{$k:()=>i,Ef:()=>c,FT:()=>g,Nj:()=>h,Ot:()=>o,VS:()=>r,_X:()=>p,gu:()=>n,lv:()=>a,qZ:()=>d,sN:()=>s,uL:()=>u,x4:()=>l});var t=e(42675);const s="settings_review-workflows",n="Settings/Review_Workflows/RESET_WORKFLOW",d="Settings/Review_Workflows/SET_WORKFLOW",l="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",o="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",h="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",i="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",r="Settings/Review_Workflows/WORKFLOW_UPDATE",a={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},g=t.W.colors.primary600,u={STAGE:"stage"},c="numberOfWorkflows",p="stagesPerWorkflow"},52258:(R,v,e)=>{"use strict";e.d(v,{n:()=>n});var t=e(1784),s=e(88767);function n(d={}){const{get:l}=(0,t.kY)(),{id:o="",...h}=d,i={populate:"stages"},{data:r,isLoading:a,status:g,refetch:u}=(0,s.useQuery)(["review-workflows","workflows",o],async()=>(await l(`/admin/review-workflows/workflows/${o}`,{params:{...i,...h}})).data);let c=[];return o&&r?.data?c=[r.data]:Array.isArray(r?.data)&&(c=r.data),{meta:r?.meta??{},workflows:c,isLoading:a,status:g,refetch:u}}},3848:(R,v,e)=>{"use strict";e.d(v,{E:()=>l,I:()=>o});var t=e(18172),s=e(18446),n=e.n(s),d=e(86978);const l={status:"loading",serverState:{workflow:null},clientState:{currentWorkflow:{data:{name:"",contentTypes:[],stages:[]},isDirty:!1,hasDeletedServerStages:!1}}};function o(i=l,r){return(0,t.Uy)(i,a=>{const{payload:g}=r;switch(r.type){case d.qZ:{const{status:u,workflow:c}=g;a.status=u,c&&(a.serverState.workflow=c,a.clientState.currentWorkflow.data={...c,stages:c.stages.map(p=>({...p,color:p?.color??d.FT}))}),a.clientState.currentWorkflow.hasDeletedServerStages=!1;break}case d.gu:{a.clientState.currentWorkflow.data=l.clientState.currentWorkflow.data,a.serverState=l.serverState;break}case d.x4:{const{stageId:u}=g,{currentWorkflow:c}=i.clientState;a.clientState.currentWorkflow.data.stages=c.data.stages.filter(p=>(p?.id??p.__temp_key__)!==u),c.hasDeletedServerStages||(a.clientState.currentWorkflow.hasDeletedServerStages=!!(i.serverState.workflow?.stages??[]).find(p=>p.id===u));break}case d.Ot:{const{currentWorkflow:u}=i.clientState;u.data||(a.clientState.currentWorkflow.data={stages:[]});const c=h(a.clientState.currentWorkflow.data.stages);a.clientState.currentWorkflow.data.stages.push({...g,color:g?.color??d.FT,__temp_key__:c});break}case d.Nj:{const{currentWorkflow:u}=i.clientState,{stageId:c,...p}=g;a.clientState.currentWorkflow.data.stages=u.data.stages.map(O=>(O.id??O.__temp_key__)===c?{...O,...p}:O);break}case d.$k:{const{currentWorkflow:{data:{stages:u}}}=i.clientState,{newIndex:c,oldIndex:p}=g;if(c>=0&&c<u.length){const O=u[p];let M=[...u];M.splice(p,1),M.splice(c,0,O),a.clientState.currentWorkflow.data.stages=M}break}case d.VS:{a.clientState.currentWorkflow.data={...a.clientState.currentWorkflow.data,...g};break}default:break}i.clientState.currentWorkflow.data&&a.serverState.workflow?a.clientState.currentWorkflow.isDirty=!n()((0,t.Vk)(a.clientState.currentWorkflow).data,a.serverState.workflow):a.clientState.currentWorkflow.isDirty=!0})}const h=(i=[])=>{const r=i.map(a=>a.id??a.__temp_key__);return Math.max(...r,-1)+1}},5318:(R,v,e)=>{"use strict";e.d(v,{k:()=>n,s:()=>d});var t=e(42675),s=e(86978);function n(l){if(!l)return null;const h=Object.entries(t.W.colors).filter(([,i])=>i.toUpperCase()===l.toUpperCase()).reduce((i,[r])=>(s.lv?.[r]&&(i=r),i),null);return h?{themeColorName:h,name:s.lv[h]}:null}function d(){return Object.entries(s.lv).map(([l,o])=>({hex:t.W.colors[l].toUpperCase(),name:o}))}},66578:(R,v,e)=>{"use strict";e.d(v,{V:()=>d});var t=e(36968),s=e.n(t),n=e(87561);async function d({values:l,formatMessage:o}){const h=n.Ry({contentTypes:n.IX().of(n.Z_()),name:n.Z_().max(255,o({id:"Settings.review-workflows.validation.name.max-length",defaultMessage:"Name can not be longer than 255 characters"})).required(),stages:n.IX().of(n.Ry().shape({name:n.Z_().required(o({id:"Settings.review-workflows.validation.stage.name",defaultMessage:"Name is required"})).max(255,o({id:"Settings.review-workflows.validation.stage.max-length",defaultMessage:"Name can not be longer than 255 characters"})).test("unique-name",o({id:"Settings.review-workflows.validation.stage.duplicate",defaultMessage:"Stage name must be unique"}),function(i){const{options:{context:r}}=this;return r.stages.filter(a=>a.name===i).length===1}),color:n.Z_().required(o({id:"Settings.review-workflows.validation.stage.color",defaultMessage:"Color is required"})).matches(/^#(?:[0-9a-fA-F]{3}){1,2}$/i)})).min(1)});try{return await h.validate(l,{abortEarly:!1,context:l}),!0}catch(i){let r={};return i instanceof n.p8&&i.inner.forEach(a=>{s()(r,a.path,a.message)}),r}}},51584:(R,v,e)=>{var t=e(44239),s=e(37005),n="[object Boolean]";function d(l){return l===!0||l===!1||s(l)&&t(l)==n}R.exports=d},7654:(R,v,e)=>{var t=e(81763);function s(n){return t(n)&&n!=+n}R.exports=s},81763:(R,v,e)=>{var t=e(44239),s=e(37005),n="[object Number]";function d(l){return typeof l=="number"||s(l)&&t(l)==n}R.exports=d}}]);
