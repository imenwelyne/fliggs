"use strict";(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[148],{9395:(y,o,t)=>{t.d(o,{Z:()=>i});var e=t(1784);const i={getConfig:async()=>await(0,e.WY)("/cookie-manager/config",{method:"GET"}),updateConfig:async n=>await(0,e.WY)("/cookie-manager/config/update",{method:"PUT",body:{data:n}}),getLocales:async()=>await(0,e.WY)("/cookie-manager/locales",{method:"GET"}),getCookies:async(n=null)=>await(0,e.WY)(`/cookie-manager/cookie/find${n?`?locale=${n}`:""}`,{method:"GET"}),createCookie:async n=>await(0,e.WY)("/cookie-manager/cookie/create",{method:"POST",body:{data:n}}),updateCookie:async(n,d)=>await(0,e.WY)(`/cookie-manager/cookie/update/${n}`,{method:"PUT",body:{data:d}}),deleteCookie:async n=>await(0,e.WY)(`/cookie-manager/cookie/delete/${n}`,{method:"DELETE"}),getCategories:async(n=null)=>await(0,e.WY)(`/cookie-manager/cookie-category/find${n?`?locale=${n}`:""}`,{method:"GET"}),createCategory:async n=>await(0,e.WY)("/cookie-manager/cookie-category/create",{method:"POST",body:{data:n}}),updateCategory:async(n,d)=>await(0,e.WY)(`/cookie-manager/cookie-category/update/${n}`,{method:"PUT",body:{data:d}}),deleteCategory:async n=>await(0,e.WY)(`/cookie-manager/cookie-category/delete/${n}`,{method:"DELETE"}),getPopups:async(n=null)=>await(0,e.WY)(`/cookie-manager/cookie-popup/find${n?`?locale=${n}`:""}`,{method:"GET"}),createPopup:async n=>await(0,e.WY)("/cookie-manager/cookie-popup/create",{method:"POST",body:{data:n}}),updatePopup:async(n,d)=>await(0,e.WY)(`/cookie-manager/cookie-popup/update/${n}`,{method:"PUT",body:{data:d}}),deletePopup:async n=>await(0,e.WY)(`/cookie-manager/cookie-popup/delete/${n}`,{method:"DELETE"})}},77796:(y,o,t)=>{t.r(o),t.d(o,{default:()=>B});var e=t(53547),l=t(86896),i=t(41054),n=t(11849),d=t(5665),a=t(1784),c=t(86497),s=t(85518),r=t(28422),j=t(20692),M=t(16961),L=t.n(M),$=t(60007),m=t(71088),g=t(9395),x=t(87561);const h=x.Ry().shape({localization:x.O7().required("Required")}),B=()=>{const[R,O]=(0,e.useState)({}),[F,E]=(0,e.useState)(!0),{formatMessage:u}=(0,l.Z)(),{lockApp:C,unlockApp:f}=(0,a.o1)(),b=(0,a.lm)(),w=async()=>{const T=await g.Z.getConfig();O(T),E(!1)},P=async T=>{await g.Z.updateConfig(T)},W=(T,p)=>{try{C(),P(T)}catch{b({type:"warning",message:{id:"Error on save",defaultMessage:"An error occured"}}),f(),p.setSubmitting(!1)}finally{b({type:"success",message:{id:"Successfully saved configuration",defaultMessage:"Saved"}}),f(),p.setSubmitting(!1)}};return(0,e.useEffect)(()=>{w()},[]),e.createElement(d.Main,null,e.createElement(i.J9,{onSubmit:W,initialValues:R,validateOnChange:!1,validation:h,enableReinitialize:!0},({values:T,handleChange:p,isSubmitting:k})=>e.createElement(a.l0,null,e.createElement(n.HeaderLayout,{title:u({id:(0,m.OB)("settings.header.title"),defaultMessage:m.oy}),subtitle:u({id:(0,m.OB)("settings.header.description"),defaultMessage:"Configure the settings for the Cookie Manager plugin"}),as:"h2",primaryAction:e.createElement($.Button,{loading:k,type:"submit",startIcon:e.createElement(L(),null),size:"L"},u({id:"global.save",defaultMessage:"Save"}))}),e.createElement(n.ContentLayout,null,e.createElement(r.Box,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",padding:6},F?e.createElement(a.dO,null):e.createElement(c.Stack,{spacing:6,alignItems:"flex-start"},e.createElement(j.Typography,{variant:"beta",as:"h2"},u({id:(0,m.OB)("settings.form.title"),defaultMessage:"Settings"})),e.createElement(s.ToggleInput,{hint:u({id:(0,m.OB)("settings.form.field.localization.hint"),defaultMessage:"Enable localization for this plugin"}),label:u({id:(0,m.OB)("settings.form.field.localization.label"),defaultMessage:"Internationalization"}),name:"localization",onLabel:u({id:(0,m.OB)("settings.form.field.localization.option.a"),defaultMessage:"True"}),offLabel:u({id:(0,m.OB)("settings.form.field.localization.option.b"),defaultMessage:"False"}),checked:T.localization,onChange:p})))))))}},84855:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(85893),l=t(1565),i=t(51481),n=t(78411),c=(r=>r&&r.__esModule?r:{default:r})(l).default(n.Box)`
  display: grid;
  grid-template-columns: repeat(${({gridCols:r})=>r}, 1fr);
  ${({theme:r,gap:j})=>i("gap",j,r)}
`,s=r=>{const{gap:j="0",gridCols:M=12,...L}=r;return e.jsx(c,{gap:j,gridCols:M,...L})};o.Grid=s},16308:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(1565),l=t(78411),d=(a=>a&&a.__esModule?a:{default:a})(e).default(l.Box)`
  grid-column: span ${({col:a})=>a};
  max-width: 100%;

  ${({theme:a})=>a.mediaQueries.tablet} {
    grid-column: span ${({s:a})=>a};
  }

  ${({theme:a})=>a.mediaQueries.mobile} {
    grid-column: span ${({xs:a})=>a};
  }
`;o.GridItem=d},20613:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(85893),l=t(85521),i=({startActions:n,endActions:d})=>!n&&!d?null:e.jsxs(l.Flex,{justifyContent:"space-between",alignItems:"flex-start",paddingBottom:4,paddingLeft:10,paddingRight:10,children:[e.jsx(l.Flex,{gap:2,wrap:"wrap",children:n}),e.jsx(l.Flex,{gap:2,shrink:0,wrap:"wrap",children:d})]});o.ActionLayout=i},74770:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(85893),l=t(78411),i=({children:n})=>e.jsx(l.Box,{paddingLeft:10,paddingRight:10,children:n});o.ContentLayout=i},62449:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(1565),n=(d=>d&&d.__esModule?d:{default:d})(e).default.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  grid-gap: ${({theme:d})=>d.spaces[4]};
`;o.GridLayout=n},76884:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(85893),l=t(53547),i=t(1565),n=t(32404),d=t(97317),a=t(78411),c=t(85521),s=t(11999),r=g=>g&&g.__esModule?g:{default:g},j=r(l),M=r(i),L=g=>{const x=l.useRef(null),[S,h]=l.useState(null),[v,B]=n.useElementOnScreen({root:null,rootMargin:"0px",threshold:0});return d.useResizeObserver(v,()=>{v.current&&h(v.current.getBoundingClientRect())}),l.useEffect(()=>{x.current&&h(x.current.getBoundingClientRect())},[x]),e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{height:S?.height},ref:v,children:B&&e.jsx(m,{ref:x,...g})}),!B&&e.jsx(m,{...g,sticky:!0,width:S?.width})]})};L.displayName="HeaderLayout";const $=M.default(a.Box)`
  width: ${({width:g})=>g?`${g/16}rem`:void 0};
  z-index: ${({theme:g})=>g.zIndices[1]};
`,m=j.default.forwardRef(({navigationAction:g,primaryAction:x,secondaryAction:S,subtitle:h,title:v,sticky:B,width:R,...O},F)=>{const E=typeof h=="string";return B?e.jsx($,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:R,"data-strapi-header-sticky":!0,children:e.jsxs(c.Flex,{justifyContent:"space-between",children:[e.jsxs(c.Flex,{children:[g&&e.jsx(a.Box,{paddingRight:3,children:g}),e.jsxs(a.Box,{children:[e.jsx(s.Typography,{variant:"beta",as:"h1",...O,children:v}),E?e.jsx(s.Typography,{variant:"pi",textColor:"neutral600",children:h}):h]}),S?e.jsx(a.Box,{paddingLeft:4,children:S}):null]}),e.jsx(c.Flex,{children:x?e.jsx(a.Box,{paddingLeft:2,children:x}):void 0})]})}):e.jsxs(a.Box,{ref:F,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:g?6:8,background:"neutral100","data-strapi-header":!0,children:[g?e.jsx(a.Box,{paddingBottom:2,children:g}):null,e.jsxs(c.Flex,{justifyContent:"space-between",children:[e.jsxs(c.Flex,{minWidth:0,children:[e.jsx(s.Typography,{as:"h1",variant:"alpha",...O,children:v}),S?e.jsx(a.Box,{paddingLeft:4,children:S}):null]}),x]}),E?e.jsx(s.Typography,{variant:"epsilon",textColor:"neutral600",as:"p",children:h}):h]})});o.BaseHeaderLayout=m,o.HeaderLayout=L},58692:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(85893),l=t(1565),i=t(78411),d=(r=>r&&r.__esModule?r:{default:r})(l),a=d.default(i.Box)`
  display: grid;
  grid-template-columns: ${({hasSideNav:r})=>r?"auto 1fr":"1fr"};
`,c=d.default(i.Box)`
  overflow-x: hidden;
`,s=({sideNav:r,children:j})=>e.jsxs(a,{hasSideNav:Boolean(r),children:[r,e.jsx(c,{paddingBottom:10,children:j})]});o.Layout=s},74216:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(85893),l=t(84855),i=t(16308),n=t(78411),d=({startCol:a,endCol:c})=>e.jsxs(l.Grid,{gap:4,children:[e.jsx(i.GridItem,{col:9,s:12,children:e.jsx(n.Box,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",children:a})}),e.jsx(i.GridItem,{col:3,s:12,children:e.jsx(n.Box,{hasRadius:!0,background:"neutral0",shadow:"tableShadow",children:c})})]});o.TwoColsLayout=d},11849:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(58692),l=t(20613),i=t(74770),n=t(76884),d=t(74216),a=t(62449);o.Layout=e.Layout,o.ActionLayout=l.ActionLayout,o.ContentLayout=i.ContentLayout,o.BaseHeaderLayout=n.BaseHeaderLayout,o.HeaderLayout=n.HeaderLayout,o.TwoColsLayout=d.TwoColsLayout,o.GridLayout=a.GridLayout},97920:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(85893),l=t(1565),i=t(78411),a=(s=>s&&s.__esModule?s:{default:s})(l).default(i.Box)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,c=({labelledBy:s="main-content-title",...r})=>e.jsx(a,{"aria-labelledby":s,as:"main",id:"main-content",tabIndex:-1,...r});o.Main=c},93711:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(85893),l=t(1565),i=t(78411),a=(s=>s&&s.__esModule?s:{default:s})(l).default(i.Box)`
  text-decoration: none;

  &:focus {
    left: ${({theme:s})=>s.spaces[3]};
    top: ${({theme:s})=>s.spaces[3]};
  }
`,c=({children:s})=>e.jsx(a,{as:"a",href:"#main-content",background:"primary600",color:"neutral0",left:"-100%",padding:3,position:"absolute",top:"-100%",hasRadius:!0,zIndex:9999,children:s});o.SkipToContent=c},5665:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(97920),l=t(93711);o.Main=e.Main,o.SkipToContent=l.SkipToContent},66460:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(85893),l=t(53547),i=t(1565),n=t(66312),d=t(28442),a=t(36252),c=t(11999),s=t(85521),r=t(30801),j=t(5130),M=t(90928),L=t(32725),$=t(8946),m=t(3819),g=u=>u&&u.__esModule?u:{default:u};function x(u){if(u&&u.__esModule)return u;const C=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(u){for(const f in u)if(f!=="default"){const b=Object.getOwnPropertyDescriptor(u,f);Object.defineProperty(C,f,b.get?b:{enumerable:!0,get:()=>u[f]})}}return C.default=u,Object.freeze(C)}const S=x(l),h=g(i),v=S.forwardRef(({offLabel:u,onLabel:C,disabled:f,checked:b,onChange:w,size:P="M",...W},T)=>{const[p=!1,k]=n.useControllableState({prop:b}),{error:D,id:I,name:G,required:H}=a.useField(),z=p!==null&&!p,U=`${I}-hint`,V=`${I}-error`;return e.jsxs(B,{position:"relative",hasRadius:!0,padding:1,background:f?"neutral150":"neutral100",borderStyle:"solid",borderWidth:"1px",borderColor:"neutral200",wrap:"wrap",cursor:f?"not-allowed":"pointer",hasError:Boolean(D),children:[e.jsx(R,{hasRadius:!0,flex:"1 1 50%",paddingTop:2,paddingBottom:2,paddingLeft:3,paddingRight:3,justifyContent:"center",background:f&&z?"neutral200":z?"neutral0":"transparent",borderColor:f&&z?"neutral300":z?"neutral200":f?"neutral150":"neutral100",size:P,children:e.jsx(c.Typography,{variant:"pi",fontWeight:"bold",textTransform:"uppercase",textColor:f?"neutral700":z?"danger700":"neutral600",children:u})}),e.jsx(R,{hasRadius:!0,flex:"1 1 50%",paddingLeft:3,paddingRight:3,justifyContent:"center",background:f&&p?"neutral200":p?"neutral0":"transparent",borderColor:f&&p?"neutral300":p?"neutral200":f?"neutral150":"neutral100",size:P,children:e.jsx(c.Typography,{variant:"pi",fontWeight:"bold",textTransform:"uppercase",textColor:f?"neutral700":p?"primary600":"neutral600",children:C})}),e.jsx(O,{...W,ref:T,onChange:Y=>{k(Y.currentTarget.checked),w?.(Y)},type:"checkbox",id:I,name:G,"aria-required":H,disabled:f,"aria-disabled":f,"aria-describedby":I?`${U} ${V}`:void 0,checked:Boolean(p)})]})}),B=h.default(s.Flex)`
  ${r.inputFocusStyle()}
`,R=h.default(s.Flex)`
  /**
    We declare the defined value because we want the height of the input when 
    the values are in a row to be 40px. But defining a height on the label
    would break the input when it wraps.
  */
  padding-top: ${({size:u})=>`${u==="S"?"2px":"6px"}`};
  padding-bottom: ${({size:u})=>`${u==="S"?"2px":"6px"}`};
`,O=h.default.input`
  height: 100%;
  left: 0;
  opacity: 0;
  position: absolute;
  top: 0;
  z-index: 0;
  width: 100%;
`,F=S.forwardRef(({disabled:u=!1,error:C,hint:f,label:b,name:w,labelAction:P,required:W=!1,id:T,onClear:p,clearLabel:k,checked:D,...I},G)=>{const H=d.useId(T);return e.jsx(j.Field,{name:w,hint:f,error:C,id:H,required:W,maxWidth:"320px",children:e.jsxs(s.Flex,{direction:"column",alignItems:"stretch",gap:1,children:[e.jsxs(s.Flex,{children:[b?e.jsx(M.FieldLabel,{action:P,children:b}):null,k&&p&&D!==null&&!u&&e.jsx(E,{onClick:p,children:k})]}),e.jsx(v,{ref:G,checked:D,disabled:u,...I}),e.jsx(L.FieldHint,{}),e.jsx($.FieldError,{})]})})}),E=h.default(m.TextButton)`
  align-self: flex-end;
  margin-left: auto;
`;o.ToggleInput=F},85518:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(66460);o.ToggleInput=e.ToggleInput},32404:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(53547),l=i=>{const n=e.useRef(null),[d,a]=e.useState(!0),c=([s])=>{a(s.isIntersecting)};return e.useEffect(()=>{const s=n.current,r=new IntersectionObserver(c,i);return s&&r.observe(n.current),()=>{s&&r.disconnect()}},[n,i]),[n,d]};o.useElementOnScreen=l},97317:(y,o,t)=>{Object.defineProperty(o,Symbol.toStringTag,{value:"Module"});const e=t(53547),l=t(97671),i=(n,d)=>{const a=l.useCallbackRef(d);e.useLayoutEffect(()=>{const c=new ResizeObserver(a);return Array.isArray(n)?n.forEach(s=>{s.current&&c.observe(s.current)}):n.current&&c.observe(n.current),()=>{c.disconnect()}},[n,a])};o.useResizeObserver=i},16961:(y,o,t)=>{const e=t(85893),l=n=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...n,children:e.jsx("path",{fill:"#212134",d:"M20.727 2.97a.2.2 0 0 1 .286 0l2.85 2.89a.2.2 0 0 1 0 .28L9.554 20.854a.2.2 0 0 1-.285 0l-9.13-9.243a.2.2 0 0 1 0-.281l2.85-2.892a.2.2 0 0 1 .284 0l6.14 6.209L20.726 2.97Z"})}),i=l;y.exports=i}}]);
