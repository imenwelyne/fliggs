(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[8880],{71243:(q,X,t)=>{"use strict";t.d(X,{Z:()=>Se});var n=t(53547),z=t(41580),m=t(1784),U=t(31666),M=t(14484),_=t(69102),b=t(85038),V=t(34668),Q=t(65531),ue=t(73145),G=t(82574),A=t(74525),j=t(60133),O=t(16247),ee=t(48394),F=t(10507),J=t(85047),v=t(21210),W=t(55884),ne=t(45697),te=t.n(ne),ae=t(1565);const le={biginteger:U.Z,boolean:M.Z,collectionType:_.Z,component:b.Z,contentType:_.Z,date:V.Z,datetime:V.Z,decimal:U.Z,dynamiczone:Q.Z,email:ue.Z,enum:G.Z,enumeration:G.Z,file:A.Z,files:A.Z,float:U.Z,integer:U.Z,json:j.Z,JSON:j.Z,media:A.Z,number:U.Z,password:O.Z,relation:ee.Z,richtext:F.Z,singleType:J.Z,string:v.Z,text:v.Z,time:V.Z,timestamp:V.Z,uid:W.Z},he=(0,ae.default)(z.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,de=({type:ve,customField:We,...d})=>{const Ve=(0,m.mZ)();let Ae=le[ve];if(We){const{icon:Me}=Ve.get(We);Me&&(Ae=Me)}return le[ve]?n.createElement(he,{height:(0,m.Q1)(24),width:(0,m.Q1)(32),shrink:0,...d,"aria-hidden":!0},n.createElement(z.x,{as:Ae})):null};de.defaultProps={customField:null},de.propTypes={type:te().string.isRequired,customField:te().string};const Se=de},25237:(q,X,t)=>{"use strict";t.d(X,{c:()=>Ca});var n=t(45291),z=t(8289),m=t(71625),U=t(9022),M=t(67109),_=t(37323),b=t(83478),V=t(89072),Q=t(97490),ue=t(67628),G=t(78976),A=t(16912),j=t(9705),O=t(66567),ee=t(84019),F=t(90323),J=t(66745),v=t(15004),W=t(69721),ne=t(56427),te=t(85018),ae=t(84517),le=t(45491),he=t(82752),de=t(78114),Se=t(5240),ve=t(21667),We=t(86798),d=t(32706),Ve=t(30783),Ae=t(7207),Me=t(77339),Ne=t(67939),se=t(19552),fa=t(96295),Gt=t(81753),ya=t(70763),Ht=t(29021),kt=t(63252),L=t(15662),Xt=t(23293),Qt=t(90690),Yt=t(19954),Ot=t(8934),qt=t(13320),Jt=t(39810),wt=t(26086),s=t(87955),Ke=t(89597),en=t(32605),tn=t(31956),Ge=t(28985),nn=t(18773),Zt=t(29729),Pt=t(69714),He=t(75711),it=t(34807),ke=t(81426),an=t(56157),ce=t(76853),sn=t(54244),on=t(69427),rn=t(56821),At=t(98432),Ea=t(33911),Dt=t(33632),ha=t(63851),lt=t(49358),xt=t(78009),ln=t(8204),ct=t(70412),cn=t(56858),dt=t(25870),ut=t(90296),Je=t(5914),we=t(9438),va=t(73962),Lt=t(44157),mt=t(132),dn=t(1182),Ma=t(31795),It=t(94726),St=t(36347),un=t(9474),mn=t(4585),Bt=t(20711),pn=t(36606),gn=t(1781),fn=t(33417),yn=t(67504),En=t(90321),hn=t(96315),vn=t(64529),Ta=t(41916),Mn=t(87801),ba=t(95629),Tn=t(43498),Ut=t(82497),bn=t(78100),et=t(77373),tt=t(7270),pt=t(97184),Cn=t(49986),Ft=t(96585),Rn=t(18319),gt=t(45461),ft=t(48077),Wt=t(23833),On=t(71157),Nt=t(69353),yt=t(82119),Zn=t(42164),Et=t(78596),Pn=t(55680),_t=t(11008),An=t(28665),ht=t(941),Dn=t(11462),vt=t(57785),xn=t(71414),Kt=t(6702),Ln=t(72106),In=t(61017),Sn=t(82101),Mt=t(65908),Bn=t(42384);const Ca={alien:n.Z,apps:z.Z,archive:m.Z,arrowDown:U.Z,arrowLeft:M.Z,arrowRight:_.Z,arrowUp:b.Z,attachment:V.Z,bell:Q.Z,bold:ue.Z,book:G.Z,briefcase:A.Z,brush:j.Z,bulletList:O.Z,calendar:ee.Z,car:F.Z,cast:J.Z,chartBubble:v.Z,chartCircle:W.Z,chartPie:ne.Z,check:te.Z,clock:ae.Z,cloud:le.Z,code:he.Z,cog:de.Z,collapse:Se.Z,command:ve.Z,connector:We.Z,crop:d.Z,crown:Ve.Z,cube:Ae.Z,cup:Me.Z,cursor:Ne.Z,dashboard:se.Z,database:fa.Z,discuss:Gt.Z,doctor:ya.Z,earth:Ht.Z,emotionHappy:kt.Z,emotionUnhappy:L.Z,envelop:Xt.Z,exit:Qt.Z,expand:Yt.Z,eye:Ot.Z,feather:qt.Z,file:Jt.Z,fileError:wt.Z,filePdf:s.Z,filter:Ke.Z,folder:en.Z,gate:tn.Z,gift:Ge.Z,globe:nn.Z,grid:Zt.Z,handHeart:Pt.Z,hashtag:He.Z,headphone:it.Z,heart:ke.Z,house:an.Z,information:ce.Z,italic:sn.Z,key:on.Z,landscape:rn.Z,layer:At.Z,layout:Ea.Z,lightbulb:Dt.Z,link:ha.Z,lock:lt.Z,magic:xt.Z,manyToMany:ln.Z,manyToOne:ct.Z,manyWays:cn.Z,medium:dt.Z,message:ut.Z,microphone:Je.Z,monitor:we.Z,moon:va.Z,music:Lt.Z,oneToMany:mt.Z,oneToOne:dn.Z,oneWay:Ma.Z,paint:It.Z,paintBrush:St.Z,paperPlane:un.Z,pencil:mn.Z,phone:Bt.Z,picture:pn.Z,pin:gn.Z,pinMap:fn.Z,plane:yn.Z,play:En.Z,plus:hn.Z,priceTag:vn.Z,puzzle:Ta.Z,question:Mn.Z,quote:ba.Z,repeat:Tn.Z,restaurant:Ut.Z,rocket:bn.Z,rotate:et.Z,scissors:tt.Z,search:pt.Z,seed:Cn.Z,server:Ft.Z,shield:Rn.Z,shirt:gt.Z,shoppingCart:ft.Z,slideshow:Wt.Z,stack:On.Z,star:Nt.Z,store:yt.Z,strikeThrough:Zn.Z,sun:Et.Z,television:Pn.Z,thumbDown:_t.Z,thumbUp:An.Z,train:ht.Z,twitter:Dn.Z,typhoon:vt.Z,underline:xn.Z,user:Kt.Z,volumeMute:Ln.Z,volumeUp:In.Z,walk:Sn.Z,wheelchair:Mt.Z,write:Bn.Z}},30248:(q,X,t)=>{"use strict";t.d(X,{Z:()=>m});var n=t(53547);const m=(0,n.createContext)()},6356:(q,X,t)=>{"use strict";t.d(X,{Z:()=>m});var n=t(53547);const m=(0,n.createContext)()},27523:(q,X,t)=>{"use strict";t.d(X,{Z:()=>U});var n=t(53547),z=t(30248);const U=()=>(0,n.useContext)(z.Z)},47558:(q,X,t)=>{"use strict";t.d(X,{Z:()=>U});var n=t(53547),z=t(6356);const U=()=>(0,n.useContext)(z.Z)},6298:(q,X,t)=>{"use strict";t.r(X),t.d(X,{default:()=>jo});var n=t(53547),z=t(17034),m=t(1784),U=t(64593),M=t(86896),_=t(89548),b=t(41580),V=t(39785),Q=t(52624),ue=t(53192),G=t(60984),A=t(34446),j=t(29489),O=t(85893),ee=t(12645),F=t(1565),J=t(2504),v=t(11047),W=t(75515);const ne=(0,F.default)(b.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,te=F.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,ae=F.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,le=({label:e,children:a,id:o})=>{const[i,r]=(0,n.useState)(!0),c=(0,J.M)(o);return(0,O.jsxs)(b.x,{children:[(0,O.jsx)(ne,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,O.jsx)(v.k,{justifyContent:"space-between",children:(0,O.jsxs)(te,{onClick:()=>{r(l=>!l)},"aria-expanded":i,"aria-controls":c,children:[(0,O.jsx)(ae,{rotated:i,children:(0,O.jsx)(ee.Z,{"aria-hidden":!0})}),(0,O.jsx)(b.x,{paddingLeft:2,children:(0,O.jsx)(W.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800",children:e})})]})})}),i&&(0,O.jsx)("ul",{id:c,children:n.Children.map(a,(l,u)=>(0,O.jsx)("li",{children:l},u))})]})};var he=t(52305),de=t(96315),Se=t(11700),ve=t.n(Se),We=t(75621),d=t(90635),Ve=t(18446),Ae=t.n(Ve),Me=t(27523),Ne=t(47558),se=t(72966);const Gt=()=>{const{components:e,componentsGroupedByCategory:a,contentTypes:o,isInDevelopmentMode:i,sortedContentTypesList:r,modifiedData:c,initialData:l}=(0,Me.Z)(),u=(0,m.lm)(),{trackUsage:p}=(0,m.rS)(),[y,f]=(0,n.useState)(""),{onOpenModalCreateSchema:g,onOpenModalEditCategory:B}=(0,Ne.Z)(),{locale:Z}=(0,M.Z)(),{startsWith:C}=(0,m.L0)(Z,{sensitivity:"base"}),D=(0,m.Xe)(Z,{sensitivity:"base"}),K=!Object.keys(o).some(H=>o[H].isTemporary===!0)&&!Object.keys(e).some(H=>e[H].isTemporary===!0)&&Ae()(c,l),R=()=>{K?(p("willCreateContentType"),g({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):$()},I=()=>{K?(p("willCreateSingleType"),g({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):$()},N=()=>{K?(p("willCreateComponent"),g({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):$()},$=()=>{u({type:"info",message:{id:(0,d.Z)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},re=Object.entries(a).map(([H,Pe])=>({name:H,title:H,isEditable:i,onClickEdit(ie,xe){ie.stopPropagation(),K?B(xe.name):$()},links:Pe.map(ie=>({name:ie.uid,to:`/plugins/${se.Z}/component-categories/${H}/${ie.uid}`,title:ie.schema.displayName})).sort((ie,xe)=>D.compare(ie.title,xe.title))})).sort((H,Pe)=>D.compare(H.title,Pe.title)),be=r.filter(H=>H.visible);return{menu:[{name:"models",title:{id:`${(0,d.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:i&&{id:`${(0,d.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:R},links:be.filter(H=>H.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,d.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:i&&{id:`${(0,d.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:I},links:be.filter(H=>H.kind==="singleType")},{name:"components",title:{id:`${(0,d.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:i&&{id:`${(0,d.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:N},links:re}].map(H=>H.links.some(ie=>Array.isArray(ie.links))?{...H,links:H.links.map(ie=>{const xe=ie.links.filter(ge=>C(ge.title,y));return xe.length===0?null:{...ie,links:xe.sort((ge,pe)=>D.compare(ge.title,pe.title))}}).filter(Boolean)}:{...H,links:H.links.filter(ie=>C(ie.title,y)).sort((ie,xe)=>D.compare(ie.title,xe.title))}),searchValue:y,onSearchChange:f}},Ht=()=>{const{menu:e,searchValue:a,onSearchChange:o}=Gt(),{formatMessage:i}=(0,M.Z)();return n.createElement(ue.m,{ariaLabel:i({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},n.createElement(G.p,{searchable:!0,value:a,onClear:()=>o(""),onChange:r=>o(r.target.value),label:i({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:i({id:"global.search",defaultMessage:"Search"})}),n.createElement(A.Z,null,e.map(r=>n.createElement(n.Fragment,{key:r.name},n.createElement(j.D,{label:i({id:r.title.id,defaultMessage:r.title.defaultMessage}),collapsable:!0,badgeLabel:r.links.length.toString()},r.links.map(c=>c.links?n.createElement(le,{key:c.name,label:ve()(c.title)},c.links.map(l=>n.createElement(he.E,{as:We.OL,to:l.to,active:l.active,key:l.name,isSubSectionChild:!0},ve()(i({id:l.name,defaultMessage:l.title}))))):n.createElement(he.E,{as:We.OL,to:c.to,active:c.active,key:c.name},ve()(i({id:c.name,defaultMessage:c.title}))))),r.customLink&&n.createElement(b.x,{paddingLeft:7},n.createElement(V.A,{onClick:r.customLink.onClick,startIcon:n.createElement(Q.J,{as:de.Z,width:(0,m.Q1)(8),height:(0,m.Q1)(8)}),marginTop:2},i({id:r.customLink.id,defaultMessage:r.customLink.defaultMessage})))))))};var kt=t(27361),L=t.n(kt),Xt=t(7739),Qt=t.n(Xt),Yt=t(36968),Ot=t.n(Yt),qt=t(84238),Jt=t.n(qt),wt=t(45697),s=t.n(wt),Ke=t(86706),en=t(14890),tn=t(30248),Ge=t(12670),nn=t(42866),Zt=t(59946),Pt=t(82777),He=t(77296),it=t(70004),ke=t(42761),an=t(36856),ce=t(29728),sn=t(18721),on=t.n(sn),rn=t(7334),At=t.n(rn);const Dt=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),lt=(e,a)=>e.find(({name:o})=>o===a);var xt=t(38953);const ln=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],ct=({intlLabel:e,name:a,onChange:o,value:i})=>{const{formatMessage:r}=(0,M.Z)(),c=i===null||i.length===0?r({id:"global.none",defaultMessage:"None"}):[...i].sort().map(u=>ve()(u)).join(", "),l=e.id?r({id:e.id,defaultMessage:e.defaultMessage}):a;return n.createElement(xt.Q,{id:"select1",label:l,customizeContent:()=>c,onChange:u=>{u.length>0?o({target:{name:a,value:u,type:"allowed-types-select"}}):o({target:{name:a,value:null,type:"allowed-types-select"}})},options:ln,value:i||[]})};ct.defaultProps={value:null},ct.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().object,s().array])};const cn=ct;var dt=t(17373),ut=t(11276),Je=t(67819),we=t(71243);const Lt=(0,F.default)(b.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,mt=({type:e})=>{const{formatMessage:a}=(0,M.Z)(),{onClickSelectField:o}=(0,Ne.Z)(),i=()=>{o({attributeType:e,step:e==="component"?"1":null})};return n.createElement(Lt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:i},n.createElement(v.k,null,n.createElement(we.Z,{type:e}),n.createElement(b.x,{paddingLeft:4},n.createElement(v.k,null,n.createElement(W.Z,{fontWeight:"bold"},a({id:(0,d.Z)(`attribute.${e}`),defaultMessage:e}))),n.createElement(v.k,null,n.createElement(W.Z,{variant:"pi",textColor:"neutral600"},a({id:(0,d.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};mt.defaultProps={type:"text"},mt.propTypes={type:s().string};const dn=mt,It=e=>{const a=e%2===1;return{paddingLeft:a?2:0,paddingRight:a?0:2}},St=({attributes:e})=>n.createElement(dt.k,{tagName:"button"},n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:8},e.map((a,o)=>n.createElement(ut.r,{key:o,gap:0},a.map((i,r)=>{const{paddingLeft:c,paddingRight:l}=It(r);return n.createElement(Je.P,{key:i,col:6,style:{height:"100%"}},n.createElement(b.x,{paddingLeft:c,paddingRight:l,paddingBottom:1,style:{height:"100%"}},n.createElement(dn,{type:i})))})))));St.propTypes={attributes:s().array.isRequired};const un=St;var mn=t(23620);const Bt=({customFieldUid:e,customField:a})=>{const{type:o,intlLabel:i,intlDescription:r}=a,{formatMessage:c}=(0,M.Z)(),{onClickSelectCustomField:l}=(0,Ne.Z)(),u=()=>{l({attributeType:o,customFieldUid:e})};return n.createElement(Lt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:u},n.createElement(v.k,null,n.createElement(we.Z,{type:o,customField:e}),n.createElement(b.x,{paddingLeft:4},n.createElement(v.k,null,n.createElement(W.Z,{fontWeight:"bold"},c(i))),n.createElement(v.k,null,n.createElement(W.Z,{variant:"pi",textColor:"neutral600"},c(r))))))};Bt.propTypes={customFieldUid:s().string.isRequired,customField:s().shape({type:s().string.isRequired,icon:s().func,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,intlDescription:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired}).isRequired};const pn=Bt;var gn=t(32064),fn=t(86031),yn=t(80129),En=t.n(yn);const hn=(0,F.default)(b.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,vn=()=>n.createElement(v.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,a)=>n.createElement(hn,{key:`empty-card-${a}`,height:"138px",width:"375px",hasRadius:!0}))),Mn=()=>{const{formatMessage:e}=(0,M.Z)();return n.createElement(b.x,{position:"relative"},n.createElement(vn,null),n.createElement(b.x,{position:"absolute",top:6,width:"100%"},n.createElement(v.k,{alignItems:"center",justifyContent:"center",direction:"column"},n.createElement(Q.J,{as:fn.Z,color:"",width:"160px",height:"88px"}),n.createElement(b.x,{paddingTop:6,paddingBottom:4},n.createElement(b.x,{textAlign:"center"},n.createElement(W.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,d.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),n.createElement(b.x,{paddingTop:4},n.createElement(W.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,d.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),n.createElement(gn.Q,{to:`/marketplace?${En().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:n.createElement(de.Z,null)},e({id:(0,d.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},Tn=()=>{const{formatMessage:e}=(0,M.Z)(),a=(0,m.mZ)(),o=Object.entries(a.getAll());if(!o.length)return n.createElement(Mn,null);const i=o.sort((r,c)=>r[1].name>c[1].name?1:-1);return n.createElement(dt.k,{tagName:"button"},n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:3},n.createElement(ut.r,{gap:0},i.map(([r,c],l)=>{const{paddingLeft:u,paddingRight:p}=It(l);return n.createElement(Je.P,{key:r,col:6,style:{height:"100%"}},n.createElement(b.x,{paddingLeft:u,paddingRight:p,paddingBottom:1,style:{height:"100%"}},n.createElement(pn,{key:r,customFieldUid:r,customField:c})))})),n.createElement(mn.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,d.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},Ut=({attributes:e,forTarget:a,kind:o})=>{const{formatMessage:i}=(0,M.Z)(),r=(0,d.Z)("modalForm.tabs.default"),c=(0,d.Z)("modalForm.tabs.custom"),l=a.includes("component")?"component":o,u=(0,d.Z)(`modalForm.sub-header.chooseAttribute.${l}`);return n.createElement(Zt.f,{padding:6},n.createElement(Pt.v,{label:i({id:(0,d.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},n.createElement(v.k,{justifyContent:"space-between"},n.createElement(W.Z,{variant:"beta",as:"h2"},i({id:u,defaultMessage:"Select a field"})),n.createElement(He.m,null,n.createElement(He.O,null,i({id:r,defaultMessage:"Default"})),n.createElement(He.O,null,i({id:c,defaultMessage:"Custom"})))),n.createElement(b.x,{paddingBottom:6},n.createElement(it.i,null)),n.createElement(ke.n,null,n.createElement(ke.x,null,n.createElement(un,{attributes:e})),n.createElement(ke.x,null,n.createElement(Tn,null)))))};Ut.propTypes={attributes:s().array.isRequired,forTarget:s().string.isRequired,kind:s().string.isRequired};const bn=Ut;var et=t(40619),tt=t(82562);const pt=({intlLabel:e,name:a,options:o,onChange:i,value:r})=>{const{formatMessage:c}=(0,M.Z)(),l=e.id?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):a,u=p=>{let y="";p==="true"&&(y=!0),p==="false"&&(y=!1),i({target:{name:a,value:y,type:"select-default-boolean"}})};return n.createElement(et.P,{label:l,id:a,name:a,onChange:u,value:(r===null?"":r).toString()},o.map(({metadatas:{intlLabel:p,disabled:y,hidden:f},key:g,value:B})=>n.createElement(tt.W,{key:g,value:B,disabled:y,hidden:f},p.defaultMessage)))};pt.defaultProps={value:null},pt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().any};const Cn=pt;var Ft=t(15585);const Rn=(0,F.default)(v.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Ft.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${W.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,gt=({intlLabel:e,name:a,onChange:o,radios:i,value:r})=>{const{formatMessage:c}=(0,M.Z)();return n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(W.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:a,as:"label"},c(e)),n.createElement(Rn,{gap:4,alignItems:"stretch"},i.map(l=>n.createElement("label",{htmlFor:l.value.toString(),key:l.value,className:"container"},n.createElement("input",{id:l.value.toString(),name:a,className:"option-input",checked:l.value===r,value:l.value,key:l.value,onChange:o,type:"radio"}),n.createElement(b.x,{className:"option",padding:4},n.createElement(v.k,null,n.createElement(b.x,{paddingRight:4},n.createElement("span",{className:"checkmark"})),n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(W.Z,{fontWeight:"bold"},c(l.title)),n.createElement(W.Z,{variant:"pi",textColor:"neutral600"},c(l.description)))))))))};gt.defaultProps={radios:[]},gt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,radios:s().arrayOf(s().shape({title:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),value:s().any.isRequired})),value:s().oneOfType([s().string,s().bool]).isRequired};const ft=gt,Wt=({onChange:e,name:a,...o})=>{const i=r=>{const c=r.target.value!=="false";e({target:{name:a,value:c,type:"boolean-radio-group"}})};return n.createElement(ft,{...o,name:a,onChange:i})};Wt.propTypes={name:s().string.isRequired,onChange:s().func.isRequired};const On=Wt;var Nt=t(36213),yt=t(16364),Zn=t(81154);const Et=({error:e,intlLabel:a,modifiedData:o,name:i,onChange:r,value:c})=>{const{formatMessage:l}=(0,M.Z)(),[u,p]=(0,n.useState)(!!c||c===0),y=a.id?l({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):i,f=o.type==="biginteger"?"text":"number",g=!o.type,B=e?l({id:e,defaultMessage:e}):"";return n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:2},n.createElement(Nt.X,{id:i,name:i,onValueChange:Z=>{r({target:{name:i,value:Z?f==="text"?"0":0:null}}),p(K=>!K)},value:u},y),u&&n.createElement(b.x,{paddingLeft:6,style:{maxWidth:"200px"}},f==="text"?n.createElement(yt.o,{"aria-label":y,disabled:g,error:B,id:i,name:i,onChange:r,value:c===null?"":c}):n.createElement(Zn.Y,{"aria-label":y,disabled:g,error:B,id:i,name:i,onValueChange:Z=>{r({target:{name:i,value:Z,type:f}})},value:c||0})))};Et.defaultProps={error:null,value:null},Et.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().string,s().object,s().bool,s().number])};const Pn=Et,_t=({onChange:e,...a})=>{const o=(0,m.lm)(),i=r=>{o({type:"info",message:{id:(0,d.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(r)};return n.createElement(ft,{...a,onChange:i})};_t.propTypes={onChange:s().func.isRequired};const An=_t,ht=({description:e,disabled:a,intlLabel:o,isCreating:i,name:r,onChange:c,value:l})=>{const{formatMessage:u}=(0,M.Z)(),[p,y]=(0,n.useState)(!1),f=o.id?u({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):r,g=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",B=()=>y(D=>!D),Z=()=>{c({target:{name:r,value:!1}}),B()},C=({target:{checked:D}})=>{if(!D&&!i){B();return}c({target:{name:r,value:D}})};return n.createElement(n.Fragment,null,n.createElement(Nt.X,{checked:l,disabled:a,hint:g,name:r,onChange:C},f),n.createElement(m.QH,{isOpen:p,onToggleDialog:B,onConfirm:Z,bodyText:{id:(0,d.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,d.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};ht.defaultProps={description:null,disabled:!1,value:!1},ht.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isCreating:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().bool};const Dn=ht,vt=({categoryName:e,deleteCategory:a,deleteComponent:o,deleteContentType:i,isAttributeModal:r,isCustomFieldModal:c,isComponentAttribute:l,isComponentToDzModal:u,isContentTypeModal:p,isCreatingComponent:y,isCreatingComponentAttribute:f,isCreatingComponentInDz:g,isCreatingComponentWhileAddingAField:B,isCreatingContentType:Z,isCreatingDz:C,isComponentModal:D,isDzAttribute:K,isEditingAttribute:R,isEditingCategory:I,isInFirstComponentStep:N,onSubmitAddComponentAttribute:$,onSubmitAddComponentToDz:re,onSubmitCreateContentType:be,onSubmitCreateComponent:De,onSubmitCreateDz:H,onSubmitEditAttribute:Pe,onSubmitEditCategory:ie,onSubmitEditComponent:xe,onSubmitEditContentType:ge,onSubmitEditCustomFieldAttribute:pe,onSubmitEditDz:je,onClickFinish:Ce})=>{const{formatMessage:oe}=(0,M.Z)();return u?g?n.createElement(ce.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),re(P,!0)},startIcon:n.createElement(de.Z,null)},oe({id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):n.createElement(ce.z,{variant:"default",type:"submit",onClick:P=>{P.preventDefault(),re(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"})):r&&K&&!C?n.createElement(ce.z,{variant:"default",type:"submit",onClick:P=>{P.preventDefault(),Ce(),je(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"})):r&&K&&C?n.createElement(n.Fragment,null,n.createElement(ce.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),H(P,!0)},startIcon:n.createElement(de.Z,null)},oe({id:(0,d.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):r&&l?N?n.createElement(ce.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),$(P,!0)}},oe(f?{id:(0,d.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,d.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):n.createElement(n.Fragment,null,n.createElement(ce.z,{variant:"secondary",type:"submit",onClick:P=>{P.preventDefault(),$(P,!0)},startIcon:n.createElement(de.Z,null)},oe(B?{id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(ce.z,{variant:"default",type:"button",onClick:P=>{P.preventDefault(),Ce(),$(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))):r&&!l&&!K?n.createElement(n.Fragment,null,n.createElement(ce.z,{type:R?"button":"submit",variant:"secondary",onClick:P=>{P.preventDefault(),Pe(P,!0)},startIcon:n.createElement(de.Z,null)},oe({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(ce.z,{type:R?"submit":"button",variant:"default",onClick:P=>{P.preventDefault(),Ce(),Pe(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))):p?n.createElement(n.Fragment,null,!Z&&n.createElement(n.Fragment,null,n.createElement(ce.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),i()}},oe({id:"global.delete",defaultMessage:"Delete"})),n.createElement(ce.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),ge(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))),Z&&n.createElement(ce.z,{type:"submit",variant:"secondary",onClick:P=>{P.preventDefault(),be(P,!0)}},oe({id:"global.continue",defaultMessage:"Continue"}))):D?n.createElement(n.Fragment,null,!y&&n.createElement(n.Fragment,null,n.createElement(ce.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),o()}},oe({id:"global.delete",defaultMessage:"Delete"})),n.createElement(ce.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),xe(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))),y&&n.createElement(ce.z,{type:"submit",variant:"secondary",onClick:P=>{P.preventDefault(),De(P,!0)}},oe({id:"global.continue",defaultMessage:"Continue"}))):I?n.createElement(n.Fragment,null,n.createElement(ce.z,{type:"button",variant:"danger",onClick:P=>{P.preventDefault(),a(e)}},oe({id:"global.delete",defaultMessage:"Delete"})),n.createElement(ce.z,{type:"submit",variant:"default",onClick:P=>{P.preventDefault(),ie(P)}},oe({id:"global.finish",defaultMessage:"finish"}))):c?n.createElement(n.Fragment,null,n.createElement(ce.z,{type:R?"button":"submit",variant:"secondary",onClick:P=>{P.preventDefault(),pe(P,!0)},startIcon:n.createElement(de.Z,null)},oe({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),n.createElement(ce.z,{type:R?"submit":"button",variant:"default",onClick:P=>{P.preventDefault(),Ce(),pe(P,!1)}},oe({id:"global.finish",defaultMessage:"Finish"}))):null};vt.defaultProps={categoryName:null,onClickFinish(){}},vt.propTypes={categoryName:s().string,deleteCategory:s().func.isRequired,deleteComponent:s().func.isRequired,deleteContentType:s().func.isRequired,isAttributeModal:s().bool.isRequired,isCustomFieldModal:s().bool.isRequired,isComponentAttribute:s().bool.isRequired,isComponentModal:s().bool.isRequired,isComponentToDzModal:s().bool.isRequired,isContentTypeModal:s().bool.isRequired,isCreatingComponent:s().bool.isRequired,isCreatingComponentAttribute:s().bool.isRequired,isCreatingComponentInDz:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,isCreatingContentType:s().bool.isRequired,isCreatingDz:s().bool.isRequired,isDzAttribute:s().bool.isRequired,isEditingAttribute:s().bool.isRequired,isEditingCategory:s().bool.isRequired,isInFirstComponentStep:s().bool.isRequired,onSubmitAddComponentAttribute:s().func.isRequired,onSubmitAddComponentToDz:s().func.isRequired,onSubmitCreateContentType:s().func.isRequired,onSubmitCreateComponent:s().func.isRequired,onSubmitCreateDz:s().func.isRequired,onSubmitEditAttribute:s().func.isRequired,onSubmitEditCategory:s().func.isRequired,onSubmitEditComponent:s().func.isRequired,onSubmitEditContentType:s().func.isRequired,onSubmitEditCustomFieldAttribute:s().func.isRequired,onSubmitEditDz:s().func.isRequired,onClickFinish:s().func};const xn=vt;var Kt=t(24969),Ln=t(63321),In=t(36773),Sn=t(67109);const Mt=({actionType:e,attributeName:a,attributeType:o,categoryName:i,contentTypeKind:r,dynamicZoneTarget:c,forTarget:l,modalType:u,targetUid:p,customFieldUid:y,showBackLink:f})=>{const{formatMessage:g}=(0,M.Z)(),{modifiedData:B}=(0,Me.Z)(),{onOpenModalAddField:Z}=(0,Ne.Z)();let C,D=[];const K=B?.[l]?.[p]||B?.[l]||null;let R=K?.schema.displayName;if(u==="contentType"&&(C=r),["component","editCategory"].includes(u)&&(C="component"),["component","contentType"].includes(u)){let N=(0,d.Z)(`modalForm.component.header-${e}`);return u==="contentType"&&(N=(0,d.Z)(`modalForm.${r}.header-create`)),e==="edit"&&(N=(0,d.Z)("modalForm.header-edit")),n.createElement(Kt.x,null,n.createElement(v.k,null,n.createElement(b.x,null,n.createElement(we.Z,{type:C})),n.createElement(b.x,{paddingLeft:3},n.createElement(W.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},g({id:N},{name:R})))))}return D=[{label:R,info:{category:K?.category||null,name:K?.schema.displayName}}],u==="chooseAttribute"&&(C=["component","components"].includes(l)?"component":K.schema.kind),u==="addComponentToDynamicZone"&&(C="dynamiczone",D.push({label:c})),(u==="attribute"||u==="customField")&&(C=o,D.push({label:a})),u==="editCategory"&&(D=[{label:g({id:(0,d.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:i}]),n.createElement(Kt.x,null,n.createElement(v.k,{gap:3},f&&n.createElement(m.rU,{"aria-label":g({id:(0,d.Z)("modalForm.header.back"),defaultMessage:"Back"}),startIcon:n.createElement(Sn.Z,null),onClick:()=>Z({forTarget:l,targetUid:p}),to:"#back"}),n.createElement(we.Z,{type:C,customField:y}),n.createElement(Ln.O,{label:D.map(({label:N})=>N).join(",")},D.map(({label:N,info:$},re,be)=>{if(N=ve()(N),!N)return null;const De=`${N}.${re}`;return $?.category&&(N=`${N} (${ve()($.category)} - ${ve()($.name)})`),n.createElement(In.$,{isCurrent:re===be.length-1,key:De},N)}))))};Mt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null,showBackLink:!1},Mt.propTypes={actionType:s().string,attributeName:s().string,attributeType:s().string,categoryName:s().string,contentTypeKind:s().string,dynamicZoneTarget:s().string,forTarget:s().oneOf(["contentType","component","components"]),modalType:s().string.isRequired,targetUid:s().string,customFieldUid:s().string,showBackLink:s().bool};const Bn=Mt,ls=({modalType:e,forTarget:a,kind:o,actionType:i,step:r})=>{switch(e){case"chooseAttribute":return(0,d.Z)(`modalForm.sub-header.chooseAttribute.${a.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,d.Z)(`modalForm.sub-header.attribute.${i}${r!=="null"&&r!==null&&i!=="edit"?".step":""}`);case"customField":return(0,d.Z)(`modalForm.sub-header.attribute.${i}`);case"addComponentToDynamicZone":return(0,d.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,d.Z)("configurations")}},Un=({actionType:e,modalType:a,forTarget:o,kind:i,step:r,attributeType:c,attributeName:l,customField:u})=>{const{formatMessage:p}=(0,M.Z)(),y=a==="customField"?u.intlLabel:{id:(0,d.Z)(`attribute.${c}`)};return n.createElement(v.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},n.createElement(W.Z,{as:"h2",variant:"beta"},p({id:ls({actionType:e,forTarget:o,kind:i,step:r,modalType:a}),defaultMessage:"Add new field"},{type:ve()(p(y)),name:ve()(l),step:r})),n.createElement(W.Z,{variant:"pi",textColor:"neutral600"},p({id:(0,d.Z)(`attribute.${c}.description`),defaultMessage:"A type for modeling data"})))};Un.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},Un.propTypes={actionType:s().string,modalType:s().string,forTarget:s().string,kind:s().string,step:s().string,attributeType:s().string,attributeName:s().string,customField:s().object};const cs=Un;var ds=t(54574),us=t(64777),ms=t(63237),ps=t(45377),gs=t(49123),Ra=t(12028),fs=t(84495),ys=t(97184),Es=t(20022),Oa=t(25237);const hs=(0,F.default)(v.k)`
  label {
    ${Ft.k3}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,Za=({iconKey:e,name:a,onChange:o,isSelected:i,ariaLabel:r})=>n.createElement(ds.g,{name:a,required:!1},n.createElement(us.Q,{htmlFor:e,id:`${e}-label`},n.createElement(ms.T,null,n.createElement(ps._,{type:"radio",id:e,name:a,checked:i,onChange:o,value:e,"aria-checked":i,"aria-labelledby":`${e}-label`}),r),n.createElement(v.k,{padding:2,cursor:"pointer",hasRadius:!0,background:i&&"primary200"},n.createElement(Q.J,{as:Oa.c[e],color:i?"primary600":"neutral300"}))));Za.propTypes={iconKey:s().string.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,isSelected:s().bool.isRequired,ariaLabel:s().string.isRequired};const Fn=({intlLabel:e,name:a,onChange:o,value:i})=>{const{formatMessage:r}=(0,M.Z)(),[c,l]=(0,n.useState)(!1),[u,p]=(0,n.useState)(""),y=Object.keys(Oa.c),[f,g]=(0,n.useState)(y),B=(0,n.useRef)(null),Z=(0,n.useRef)(null),C=()=>{l(!c)},D=({target:{value:I}})=>{p(I),g(()=>y.filter(N=>N.toLowerCase().includes(I.toLowerCase())))},K=()=>{C(),p(""),g(y)},R=()=>{o({target:{name:a,value:""}})};return(0,n.useEffect)(()=>{c&&Z.current.focus()},[c]),n.createElement(n.Fragment,null,n.createElement(v.k,{justifyContent:"space-between",paddingBottom:2},n.createElement(W.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label"},r(e)),n.createElement(v.k,{gap:1},c?n.createElement(gs.w,{ref:Z,name:"searchbar",size:"S",placeholder:r({id:(0,d.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{u||C()},onChange:D,value:u,onClear:K,clearLabel:r({id:(0,d.Z)("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"})},r({id:(0,d.Z)("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})):n.createElement(Ra.h,{ref:B,onClick:C,"aria-label":r({id:(0,d.Z)("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:n.createElement(ys.Z,null),noBorder:!0}),i&&n.createElement(fs.u,{description:r({id:(0,d.Z)("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"})},n.createElement(Ra.h,{onClick:R,"aria-label":r({id:(0,d.Z)("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:n.createElement(Es.Z,null),noBorder:!0})))),n.createElement(hs,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center"},f.length>0?f.map(I=>n.createElement(Za,{key:I,iconKey:I,name:a,onChange:o,isSelected:I===i,ariaLabel:r({id:(0,d.Z)("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:I})})):n.createElement(b.x,{padding:4,grow:2},n.createElement(W.Z,{variant:"delta",textColor:"neutral600",textAlign:"center"},r({id:(0,d.Z)("IconPicker.emptyState.label"),defaultMessage:"No icon found"})))))};Fn.defaultProps={value:""},Fn.propTypes={intlLabel:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const vs=Fn;var Ms=t(23450),Wn=t.n(Ms),Pa=t(50478);const Nn=({description:e,error:a,intlLabel:o,modifiedData:i,name:r,onChange:c,value:l})=>{const{formatMessage:u}=(0,M.Z)(),p=(0,n.useRef)(c),y=i?.displayName||"";(0,n.useEffect)(()=>{if(y){const Z=(0,Pa.Z)(y);try{const C=Wn()(Z,2);p.current({target:{name:r,value:C}})}catch{p.current({target:{name:r,value:Z}})}}else p.current({target:{name:r,value:""}})},[y,r]);const f=a?u({id:a,defaultMessage:a}):"",g=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",B=u(o);return n.createElement(yt.o,{error:f,label:B,id:r,hint:g,name:r,onChange:c,value:l||""})};Nn.defaultProps={description:null,error:null,value:null},Nn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Ts=Nn;var _n=t(82534),jt=t(60188),me=t(28861);const Kn=({oneThatIsCreatingARelationWithAnother:e,target:a})=>{const{contentTypes:o,sortedContentTypesList:i}=(0,Me.Z)(),r=(0,Ke.I0)(),c=i.filter(Dt),{plugin:l=null,schema:{displayName:u}={displayName:"error"}}=o?.[a]??{},p=({uid:y,plugin:f,title:g,restrictRelationsTo:B})=>()=>{const Z=f?`${f}_${g}`:g;r({type:me.aG,target:{value:y,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:Z,targetContentTypeAllowedRelations:B}})};return n.createElement(jt.fC,null,n.createElement(bs,null,`${u} ${l?`(from: ${l})`:""}`),n.createElement(jt.VY,{zIndex:5},c.map(({uid:y,title:f,restrictRelationsTo:g,plugin:B})=>n.createElement(jt.ck,{key:y,onSelect:p({uid:y,plugin:B,title:f,restrictRelationsTo:g})},f,"\xA0",B&&n.createElement(n.Fragment,null,"(from: ",B,")")))))};Kn.defaultProps={target:null},Kn.propTypes={oneThatIsCreatingARelationWithAnother:s().string.isRequired,target:s().string};const bs=(0,F.default)(jt.xz)`
  svg {
    width: ${6/16}rem;
    height: ${4/16}rem;
  }
`,Cs=Kn,jn=({disabled:e,error:a,header:o,isMain:i,name:r,onChange:c,oneThatIsCreatingARelationWithAnother:l,target:u,value:p})=>n.createElement(b.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},n.createElement(v.k,{paddingTop:i?4:1,paddingBottom:i?3:1,justifyContent:"center"},i?n.createElement(W.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):n.createElement(Cs,{target:u,oneThatIsCreatingARelationWithAnother:l})),n.createElement(it.i,{background:"neutral200"}),n.createElement(b.x,{padding:4},n.createElement(m.jm,{disabled:e,error:a?.id||null,intlLabel:{id:(0,d.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:r,onChange:c,type:"text",value:p})));jn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},jn.propTypes={disabled:s().bool,error:s().object,header:s().string,isMain:s().bool,name:s().string.isRequired,onChange:s().func,oneThatIsCreatingARelationWithAnother:s().string,target:s().string,value:s().string};const Aa=jn;var Rs=t(31795),Os=t(1182),Zs=t(132),Ps=t(70412),As=t(8204),Ds=t(56858),xs=t(39138),Da=t.n(xs);const Ls=(0,F.default)(b.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Is=(0,F.default)(b.x)`
  background: ${({theme:e,isSelected:a})=>e.colors[a?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Ss=(0,F.default)(v.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Bs={oneWay:Rs.Z,oneToOne:Os.Z,oneToMany:Zs.Z,manyToOne:Ps.Z,manyToMany:As.Z,manyWay:Ds.Z},$n=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:a,relationType:o,target:i})=>{const r=(0,Ke.I0)(),{formatMessage:c}=(0,M.Z)(),{contentTypes:l,modifiedData:u}=(0,Me.Z)(),p=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],y=["oneWay","manyWay"],g=(e==="contentType"?L()(u,[e,"schema","kind"],""):e)==="collectionType"?p:y,B=o==="manyToOne",Z=L()(l,[i,"schema","displayName"],"unknown"),C=B?Z:a,D=B?a:Z,K=Wn()(C,o==="manyToMany"?2:1),R=L()(l,[i,"schema","restrictRelationsTo"],null),I=Wn()(D,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?n.createElement(v.k,{style:{flex:1}},n.createElement(Ls,null,n.createElement(v.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},n.createElement(dt.k,{tagName:"button"},n.createElement(v.k,{gap:3},g.map(N=>{const $=Bs[N],re=R===null||R.includes(N);return n.createElement(Is,{as:"button",isSelected:o===N,disabled:!re,key:N,onClick:()=>{re&&r({type:me.QQ,target:{oneThatIsCreatingARelationWithAnother:a,targetContentType:i,value:N}})},padding:2,type:"button"},n.createElement($,{key:N}))}))))),n.createElement(Ss,{justifyContent:"center"},n.createElement(W.Z,null,Da()(K,{length:24}),"\xA0"),n.createElement(W.Z,{textColor:"primary600"},c({id:(0,d.Z)(`relation.${o}`)}),"\xA0"),n.createElement(W.Z,null,Da()(I,{length:24})))):null};$n.defaultProps={relationType:null,target:null},$n.propTypes={naturePickerType:s().string.isRequired,oneThatIsCreatingARelationWithAnother:s().string.isRequired,relationType:s().string,target:s().string};const Us=$n,xa=({formErrors:e,mainBoxHeader:a,modifiedData:o,naturePickerType:i,onChange:r})=>{const c=(0,_n.Z)(o.relation,o.targetAttribute);return n.createElement(v.k,{style:{position:"relative"}},n.createElement(Aa,{isMain:!0,header:a,error:e?.name||null,name:"name",onChange:r,value:o?.name||""}),n.createElement(Us,{naturePickerType:i,oneThatIsCreatingARelationWithAnother:a,relationType:c,target:o.target}),n.createElement(Aa,{disabled:["oneWay","manyWay"].includes(c),error:e?.targetAttribute||null,name:"targetAttribute",onChange:r,oneThatIsCreatingARelationWithAnother:a,target:o.target,value:o?.targetAttribute||""}))};xa.propTypes={formErrors:s().object.isRequired,mainBoxHeader:s().string.isRequired,modifiedData:s().object.isRequired,naturePickerType:s().string.isRequired,onChange:s().func.isRequired};const Fs=xa;var Ws=t(29178),Ns=t(90608);const zn=({error:e,intlLabel:a,name:o,onChange:i,value:r})=>{const{formatMessage:c}=(0,M.Z)(),{allComponentsCategories:l}=(0,Me.Z)(),[u,p]=(0,n.useState)(l),y=e?c({id:e,defaultMessage:e}):"",f=c(a),g=Z=>{i({target:{name:o,value:Z,type:"select-category"}})},B=Z=>{p(C=>[...C,Z]),g(Z)};return n.createElement(Ws.XU,{error:y,id:o,label:f,name:o,onChange:g,onCreateOption:B,value:r},u.map(Z=>n.createElement(Ns.O,{key:Z,value:Z},Z)))};zn.defaultProps={error:null,value:null},zn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const _s=zn,Vn=({error:e,intlLabel:a,isAddingAComponentToAnotherComponent:o,isCreating:i,isCreatingComponentWhileAddingAField:r,componentToCreate:c,name:l,onChange:u,targetUid:p,forTarget:y,value:f})=>{const{formatMessage:g}=(0,M.Z)(),B=e?g({id:e,defaultMessage:e}):"",Z=g(a),{componentsGroupedByCategory:C,componentsThatHaveOtherComponentInTheirAttributes:D}=(0,Me.Z)(),K=["component","components"].includes(y);let R=Object.entries(C).reduce((I,N)=>{const[$,re]=N,be=re.map(De=>({uid:De.uid,label:De.schema.displayName,categoryName:$}));return[...I,...be]},[]);return o&&(R=R.filter(I=>!D.includes(I.uid))),K&&(R=R.filter(I=>I.uid!==p)),r&&(R=[{uid:f,label:c.displayName,categoryName:c.category}]),n.createElement(et.P,{disabled:r||!i,error:B,label:Z,id:l,name:l,onChange:I=>{u({target:{name:l,value:I,type:"select-category"}})},value:f||""},R.map(I=>n.createElement(tt.W,{key:I.uid,value:I.uid},`${I.categoryName} - ${I.label}`)))};Vn.defaultProps={componentToCreate:null,error:null},Vn.propTypes={componentToCreate:s().object,forTarget:s().string.isRequired,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isAddingAComponentToAnotherComponent:s().bool.isRequired,isCreating:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,targetUid:s().string.isRequired,value:s().string.isRequired};const Ks=Vn,La=({dynamicZoneTarget:e,intlLabel:a,name:o,onChange:i,value:r})=>{const{formatMessage:c}=(0,M.Z)(),{componentsGroupedByCategory:l,modifiedData:u}=(0,Me.Z)(),y=(lt(u.contentType.schema.attributes,e)||{}).components||[],f=Object.keys(l).reduce((Z,C)=>{const D=l[C].filter(({uid:K})=>!y.includes(K));return D.length>0&&(Z[C]=D),Z},{}),g=Object.entries(f).reduce((Z,C)=>{const[D,K]=C,R={label:D,children:K.map(({uid:I,schema:{displayName:N}})=>({label:N,value:I}))};return Z.push(R),Z},[]),B=c({id:(0,d.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:r.length});return n.createElement(xt.Q,{id:"select1",label:c(a),customizeContent:()=>B,name:o,onChange:Z=>{i({target:{name:o,value:Z,type:"select-components"}})},options:g,value:r||[]})};La.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,dynamicZoneTarget:s().string.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().array.isRequired};const js=La,Gn=({intlLabel:e,error:a,modifiedData:o,name:i,onChange:r,options:c,value:l})=>{const{formatMessage:u}=(0,M.Z)(),p=u(e),y=a?u({id:a,defaultMessage:a}):"",f=g=>{r({target:{name:i,value:g,type:"select"}}),l&&o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}})};return n.createElement(et.P,{error:y,label:p,id:i,name:i,onChange:f,value:l||""},c.map(({metadatas:{intlLabel:g,disabled:B,hidden:Z},key:C,value:D})=>n.createElement(tt.W,{key:C,value:D,disabled:B,hidden:Z},u({id:g.id,defaultMessage:g.defaultMessage},g.values))))};Gn.defaultProps={error:void 0,value:""},Gn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const $s=Gn,Hn=({intlLabel:e,error:a,modifiedData:o,name:i,onChange:r,options:c,value:l})=>{const{formatMessage:u}=(0,M.Z)(),p=u(e),y=a?u({id:a,defaultMessage:a}):"",f=g=>{r({target:{name:i,value:g,type:"select"}}),l&&(g==="biginteger"&&l!=="biginteger"&&(o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&r({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&r({target:{name:"min",value:null}})),["decimal","float","integer"].includes(g)&&l==="biginteger"&&(o.default!==void 0&&o.default!==null&&r({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&r({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&r({target:{name:"min",value:null}})))};return n.createElement(et.P,{error:y,label:p,id:i,name:i,onChange:f,value:l||""},c.map(({metadatas:{intlLabel:g,disabled:B,hidden:Z},key:C,value:D})=>n.createElement(tt.W,{key:C,value:D,disabled:B,hidden:Z},u(g))))};Hn.defaultProps={error:void 0,value:""},Hn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const zs=Hn,kn=({description:e,error:a,intlLabel:o,modifiedData:i,name:r,onChange:c,value:l})=>{const{formatMessage:u}=(0,M.Z)(),p=(0,n.useRef)(c),y=i?.displayName||"";(0,n.useEffect)(()=>{y?p.current({target:{name:r,value:(0,Pa.Z)(y)}}):p.current({target:{name:r,value:""}})},[y,r]);const f=a?u({id:a,defaultMessage:a}):"",g=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",B=u(o);return n.createElement(yt.o,{error:f,label:B,id:r,hint:g,name:r,onChange:c,value:l||""})};kn.defaultProps={description:null,error:null,value:null},kn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Vs=kn,Ia=({form:e,formErrors:a,genericInputProps:o,modifiedData:i,onChange:r})=>{const{formatMessage:c}=(0,M.Z)();return e.map((l,u)=>l.items.length===0?null:n.createElement(b.x,{key:u},l.sectionTitle&&n.createElement(b.x,{paddingBottom:4},n.createElement(W.Z,{variant:"delta",as:"h3"},c(l.sectionTitle))),n.createElement(ut.r,{gap:4},l.items.map((p,y)=>{const f=`${u}.${y}`,g=L()(i,p.name,""),B=Object.keys(a).find(C=>C===p.name),Z=B?a[B].id:L()(a,[...p.name.split(".").filter(C=>C!=="componentToCreate"),"id"],null);return p.type==="pushRight"?n.createElement(Je.P,{col:p.size||6,key:p.name||f},n.createElement("div",null)):n.createElement(Je.P,{col:p.size||6,key:p.name||f},n.createElement(m.jm,{...p,...o,error:Z,onChange:r,value:g}))}))))};Ia.propTypes={form:s().arrayOf(s().object).isRequired,formErrors:s().object.isRequired,genericInputProps:s().object.isRequired,modifiedData:s().object.isRequired,onChange:s().func.isRequired};const Sa=Ia;var Gs=t(61467);const Xn=({description:e,disabled:a,error:o,intlLabel:i,labelAction:r,name:c,onChange:l,placeholder:u,value:p})=>{const{formatMessage:y}=(0,M.Z)(),f=o?y({id:o,defaultMessage:o}):"",g=e?y({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",B=y(i),Z=u?y({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):"",C=Array.isArray(p)?p.join(`
`):"",D=K=>{const R=K.target.value.split(`
`);l({target:{name:c,value:R}})};return n.createElement(Gs.g,{disabled:a,error:f,label:B,labelAction:r,id:c,hint:g,name:c,onChange:D,placeholder:Z,value:C},C)};Xn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Xn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,labelAction:s().element,name:s().string.isRequired,onChange:s().func.isRequired,placeholder:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),value:s().oneOfType([s().array,s().string])};const Hs=Xn,_e={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},ks={sections:[{sectionTitle:null,items:[_e]}]},Qn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,d.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,d.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]};var T=t(87561);const Ba=/^[A-Za-z][-_0-9A-Za-z]*$/,Xs=e=>{const a={name:T.Z_().matches(Ba,m.I0.regex).test({name:"nameNotAllowed",message:m.I0.unique,test(o){return o?!e.includes(o?.toLowerCase()):!1}}).required(m.I0.required)};return T.Ry(a)},Qs={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}};var nt=t(9816);const Ys=(e,a,o)=>{const i={displayName:T.Z_().test({name:"nameAlreadyUsed",message:m.I0.unique,test(r){if(!r)return!1;const c=(0,nt.N)(r,o);return!e.includes(c)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(r){return r?!a.includes(r?.trim()?.toLowerCase()):!1}}).required(m.I0.required),category:T.Z_().matches(Ba,m.I0.regex).required(m.I0.required),icon:T.Z_()};return T.Ry(i)},at={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,d.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:(0,d.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},S={default:{name:"default",type:"text",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,d.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,d.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,d.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,d.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,d.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Ua={advanced:{boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.private]}]}},component({repeatable:e},a){return a==="1"?{sections:at.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.private,S.max,S.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...S.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.unique,S.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.max,S.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...S.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.unique,S.maxLength,S.minLength,S.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((a,o)=>e.enum.indexOf(a)===o&&a).map(a=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}))]},{intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,d.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,d.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.private]}]}},number(e){const a=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:a,intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.unique,S.max,S.min,S.private]}]}},password(){return{sections:[{sectionTitle:null,items:[S.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.maxLength,S.minLength,S.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[S.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.maxLength,S.minLength,S.private]}]}},text(){return{sections:[{sectionTitle:null,items:[S.default,S.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.unique,S.maxLength,S.minLength,S.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...S.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[S.required,S.maxLength,S.minLength,S.private]}]}}},base:{component(e,a){if(a==="1"){const o=e.createComponent===!0?at.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Qn]},...o]}}return{sections:[{sectionTitle:null,items:[_e,{name:"component",type:"select-component",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,d.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,d.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[_e,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[_e]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,d.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[_e]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,d.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,d.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,d.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[_e,{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[_e]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[_e]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,a,o){const i=o.filter(({type:r})=>["string","text"].includes(r)).map(({name:r})=>({key:r,value:r,metadatas:{intlLabel:{id:`${r}.no-override`,defaultMessage:r}}}));return{sections:[{sectionTitle:null,items:[{..._e,placeholder:{id:(0,d.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,d.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...i]}]}]}}}};var qs=t(44908),Js=t.n(qs),ws=t(46831),eo=t.n(ws);const Yn=e=>eo()(e,{decamelize:!1,lowercase:!1,separator:"_"});var to=t(14841),qn=t.n(to);const Fa=/^[A-Za-z][_0-9A-Za-z]*$/,Wa=e=>({name:"attributeNameAlreadyUsed",message:m.I0.unique,test(a){return a?!e.includes(a):!1}}),vr=(e,a,o)=>{const i=e?.schema?.attributes??{};return Object.keys(i).filter(r=>a?r!==o:!0)},Jn=e=>({name:"forbiddenAttributeName",message:(0,d.Z)("error.attributeName.reserved-name"),test(a){return a?!e.includes(a):!1}}),h={default:()=>T.Z_().nullable(),max:()=>T.Rx().integer().nullable(),min:()=>T.Rx().integer().when("max",(e,a)=>e?a.max(e,(0,d.Z)("error.validation.minSupMax")):a).nullable(),maxLength:()=>T.Rx().integer().positive((0,d.Z)("error.validation.positive")).nullable(),minLength:()=>T.Rx().integer().min(0).when("maxLength",(e,a)=>e?a.max(e,(0,d.Z)("error.validation.minSupMax")):a).nullable(),name(e,a){return T.Z_().test(Wa(e)).test(Jn(a)).matches(Fa,m.I0.regex).required(m.I0.required)},required:()=>T.O7(),type:()=>T.Z_().required(m.I0.required),unique:()=>T.O7().nullable()},wn=(e,a)=>({name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength(),regex:T.Z_().test({name:"isValidRegExpPattern",message:(0,d.Z)("error.validation.regex"),test(i){return new RegExp(i)!==null}}).nullable()}),ea={name:"isMinSuperiorThanMax",message:(0,d.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:a}=this.parent;return!a||Number.isNaN(qn()(e))?!0:qn()(a)>=qn()(e)}},ta={date(e,a){const o={name:h.name(e,a),type:h.type()};return T.Ry(o)},datetime(e,a){const o={name:h.name(e,a),type:h.type()};return T.Ry(o)},time(e,a){const o={name:h.name(e,a),type:h.type()};return T.Ry(o)},default(e,a){const o={name:h.name(e,a),type:h.type()};return T.Ry(o)},biginteger(e,a){const o={name:h.name(e,a),type:h.type(),default:T.Z_().nullable().matches(/^-?\d*$/),unique:h.unique(),required:h.required(),max:T.Z_().nullable().matches(/^-?\d*$/,m.I0.regex),min:T.Z_().nullable().test(ea).matches(/^-?\d*$/,m.I0.regex)};return T.Ry(o)},boolean(e,a){const o={name:h.name(e,a),default:T.O7().nullable(),required:h.required(),unique:h.unique()};return T.Ry(o)},component(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),max:h.max(),min:h.min(),component:T.Z_().required(m.I0.required)};return T.Ry(o)},decimal(e,a){const o={name:h.name(e,a),type:h.type(),default:T.Rx(),required:h.required(),max:T.Rx(),min:T.Rx().test(ea)};return T.Ry(o)},dynamiczone(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),max:h.max(),min:h.min()};return T.Ry(o)},email(e,a){const o={name:h.name(e,a),type:h.type(),default:T.Z_().email().nullable(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return T.Ry(o)},enumeration(e,a){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,i={name:T.Z_().test(Wa(e)).test(Jn(a)).matches(o,m.I0.regex).required(m.I0.required),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),enum:T.IX().of(T.Z_()).min(1,m.I0.min).test({name:"areEnumValuesUnique",message:(0,d.Z)("error.validation.enum-duplicate"),test(r){return!Js()(r.map(Yn).filter((l,u,p)=>p.indexOf(l)!==u)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,d.Z)("error.validation.enum-empty-string"),test:r=>!r.map(Yn).some(c=>c==="")}).test({name:"doesMatchRegex",message:(0,d.Z)("error.validation.enum-regex"),test:r=>r.map(Yn).every(c=>o.test(c))}),enumName:T.Z_().nullable()};return T.Ry(i)},float(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),default:T.Rx(),max:T.Rx(),min:T.Rx().test(ea)};return T.Ry(o)},integer(e,a){const o={name:h.name(e,a),type:h.type(),default:T.Rx().integer(),unique:h.unique(),required:h.required(),max:h.max(),min:h.min()};return T.Ry(o)},json(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),unique:h.unique()};return T.Ry(o)},media(e,a){const o={name:h.name(e,a),type:h.type(),multiple:T.O7(),required:h.required(),allowedTypes:T.IX().of(T.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return T.Ry(o)},password(e,a){const o={name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return T.Ry(o)},relation(e,a,o,{initialData:i,modifiedData:r}){const c={name:h.name(e,a),target:T.Z_().required(m.I0.required),relation:T.Z_().required(),type:T.Z_().required(),targetAttribute:T.Vo(()=>{const l=(0,_n.Z)(r.relation,r.targetAttribute);if(l==="oneWay"||l==="manyWay")return T.Z_().nullable();let u=T.Z_().test(Jn(a)),y=[...o.map(({name:f})=>f),r.name].filter(f=>f!==i.targetAttribute);return u.matches(Fa,m.I0.regex).test({name:"forbiddenTargetAttributeName",message:(0,d.Z)("error.validation.relation.targetAttribute-taken"),test(f){return f?!y.includes(f):!1}}).required(m.I0.required)})};return T.Ry(c)},richtext(e,a){const o={name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return T.Ry(o)},string(e,a){const o=wn(e,a);return T.Ry(o)},text(e,a){const o=wn(e,a);return T.Ry(o)},uid(e,a){const o=wn(e,a);return T.Ry(o)}},no=({usedContentTypeNames:e=[],reservedModels:a=[],singularNames:o=[],pluralNames:i=[],collectionNames:r=[]})=>{const c={displayName:T.Z_().test({name:"nameAlreadyUsed",message:m.I0.unique,test(l){if(!l)return!1;const u=(0,nt.E)(l);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(m.I0.required),pluralName:T.Z_().test({name:"pluralNameAlreadyUsed",message:m.I0.unique,test(l){return l?!i.includes(l):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:(0,d.Z)("error.contentType.pluralName-equals-singularName"),test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.pluralName-used"),test(l,u){return l?u.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:(0,d.Z)("error.contentType.pluralName-equals-collectionName"),test(l){return l?!r.includes(l?.trim()?.toLowerCase()):!1}}).required(m.I0.required),singularName:T.Z_().test({name:"singularNameAlreadyUsed",message:m.I0.unique,test(l){return l?!o.includes(l):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:(0,d.Z)("error.contentType.singularName-equals-pluralName"),test(l){return l?!i.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.singularName-used"),test(l,u){return l?u.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(m.I0.required),draftAndPublish:T.O7(),kind:T.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:T.O7()};return T.Ry(c)},Na={name:"displayName",type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},na={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,d.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,d.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[Na,{description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[Na,{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,d.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,d.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,d.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},aa={advanced:{default(){return{sections:at.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Qn]},...at.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Qn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},_a=(e,a)=>{e.forEach(o=>{if(!("sectionTitle"in o)){a[0].items.push(o);return}a.push(o)})},Ka=(e,a)=>e.filter(({name:o})=>o!==a.initialData.name).map(({name:o})=>o),Xe={customField:{schema({schemaAttributes:e,attributeType:a,customFieldValidator:o,reservedNames:i,schemaData:r,ctbFormsAPI:c}){const l=Ka(e,r),u=ta[a](l,i.attributes);return c.makeCustomFieldValidator(u,o,l,i.attributes,r)},form:{base({customField:e}){const a=[{sectionTitle:null,items:[_e]}];return e.options?.base&&_a(e.options.base,a),{sections:a}},advanced({customField:e,data:a,step:o,extensions:i,...r}){const c=[{sectionTitle:null,items:[]}],l=i.getAdvancedForm(["attribute",e.type],{data:a,type:e.type,step:o,...r});if(e.options?.advanced&&_a(e.options.advanced,c),l){const u={sectionTitle:{id:(0,d.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:l};c.push(u)}return{sections:c}}}},attribute:{schema(e,a,o,i,r,c){const l=e?.schema?.attributes??[],u=Ka(l,r);try{let p=ta[a](u,o.attributes,i,r);return c.makeValidator(["attribute",a],p,u,o.attributes,i,r)}catch(p){return console.error("Error yup build schema",p),ta.default(u,o.attributes)}},form:{advanced({data:e,type:a,step:o,extensions:i,...r}){try{const c=Ua.advanced[a](e,o).sections,l=i.getAdvancedForm(["attribute",a],{data:e,type:a,step:o,...r});return{sections:c.reduce((p,y)=>(y.sectionTitle===null?p.push(y):p.push({...y,items:[...y.items,...l]}),p),[])}}catch(c){return console.error(c),{sections:[]}}},base({data:e,type:a,step:o,attributes:i}){try{return Ua.base[a](e,o,i)}catch{return ks}}}},contentType:{schema(e,a,o,i,r,c){const l=Object.values(c).map(C=>C.schema.singularName),u=Object.values(c).map(C=>C?.schema?.pluralName??""),p=a?e.filter(C=>C!==o):e,y=a?l.filter(C=>{const{schema:D}=c[o];return D.singularName!==C}):l,f=a?u.filter(C=>{const{schema:D}=c[o];return D.pluralName!==C}):u,g=Object.values(c).map(C=>C?.schema?.collectionName??""),B=a?g.filter(C=>{const{schema:D}=c[o],K=D.pluralName,R=D.collectionName;return C!==K||C!==R}):g,Z=no({usedContentTypeNames:p,reservedModels:i.models,singularNames:y,pluralNames:f,collectionNames:B});return r.makeValidator(["contentType"],Z,p,i.models,y,f)},form:{base({actionType:e}){return e==="create"?na.base.create():na.base.edit()},advanced({extensions:e}){const a=na.advanced.default().sections.map(i=>i.items).flat(),o=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...a,...o]}]}}}},component:{schema(e,a,o,i=!1,r=null){const c=i?e.filter(l=>l!==r):e;return Ys(c,o.models,a)},form:{advanced(){return{sections:at.advanced()}},base(){return{sections:at.base()}}}},addComponentToDynamicZone:{form:{advanced(){return aa.advanced.default()},base({data:e}){return e?.createComponent??!1?aa.base.createComponent():aa.base.default()}}},editCategory:{schema(e,a){const o=e.filter(i=>i!==a.name).map(i=>i.toLowerCase());return Xs(o)},form:{advanced:()=>({sections:[]}),base(){return Qs.base}}}};var ja=t(20573),ao=t(87777);const so=()=>e=>e[`${se.Z}_formModal`]||ao.E,oo=()=>(0,ja.P1)(so(),e=>e),ro=(e,a)=>{const o=L()(e,["contentType","schema","kind"],"");return o==="singleType"||o===a.kind?!0:L()(e,["contentType","schema","attributes"],[]).filter(({relation:c,type:l,targetAttribute:u})=>{const p=(0,_n.Z)(c,u);return l==="relation"&&!["oneWay","manyWay"].includes(p)}).length===0},io=(e="",a,o)=>{const i=["text","email","richtext","password","number","enumeration","date","media","boolean","json","relation"],r=e==="contentType",c=o.includes(a),l=!r&&!c;return r?[[...i,"uid"],["component","dynamiczone"]]:l?[i,["component"]]:[i]},$a=e=>e.reduce((a,o)=>{const i=o.items.reduce((r,c)=>(c.name&&r.push(c.name),r),[]);return[...a,...i]},[]),lo=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:a,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:i,actionType:r,attributeName:c,attributeType:l,customFieldUid:u,categoryName:p,dynamicZoneTarget:y,forTarget:f,modalType:g,isOpen:B,showBackLink:Z,kind:C,step:D,targetUid:K}=(0,Ne.Z)(),R=(0,m.mZ)().get(u),I=(0,n.useRef)(),N=(0,n.useMemo)(oo,[]),$=(0,Ke.I0)(),re=(0,m.lm)(),be=(0,Ke.v9)(Y=>N(Y),Ke.wU),{push:De}=(0,_.k6)(),{trackUsage:H}=(0,m.rS)(),{formatMessage:Pe}=(0,M.Z)(),{getPlugin:ie}=(0,m.j1)(),ge=ie(se.Z).apis.forms,pe=ge.components.inputs,{addAttribute:je,addCustomFieldAttribute:Ce,addCreatedComponentToDynamicZone:oe,allComponentsCategories:P,changeDynamicZoneComponents:oa,contentTypes:st,components:bt,createSchema:ot,deleteCategory:ra,deleteData:zt,editCategory:ia,editCustomFieldAttribute:la,submitData:ca,modifiedData:Re,nestedComponents:da,setModifiedData:ua,sortedContentTypesList:ma,updateSchema:Vt,reservedNames:Qe}=(0,Me.Z)(),{componentToCreate:Ct,formErrors:$e,initialData:ye,isCreatingComponentWhileAddingAField:Rt,modifiedData:E}=be,x=f==="contentType"||f==="component"?[f]:[f,K];(0,n.useEffect)(()=>{if(B){const Y=ma.filter(Dt);g==="editCategory"&&ua(),r==="edit"&&g==="attribute"&&f==="contentType"&&H("willEditFieldOfContentType");const Ie=[...x,"schema","attributes"],Ue=lt(L()(Re,Ie,[]),y)||null;if(g==="editCategory"&&r==="edit"&&$({type:me._H,modalType:g,actionType:r,data:{name:p}}),g==="contentType"&&r==="create"&&$({type:me._H,modalType:g,actionType:r,data:{draftAndPublish:!0},pluginOptions:{}}),g==="contentType"&&r==="edit"){const{displayName:w,draftAndPublish:Ee,kind:Fe,pluginOptions:Ze,pluralName:nr,reviewWorkflows:ar,singularName:sr}=L()(Re,[...x,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});$({type:me._H,actionType:r,modalType:g,data:{displayName:w,draftAndPublish:Ee,kind:Fe,pluginOptions:Ze,pluralName:nr,reviewWorkflows:ar??!1,singularName:sr}})}if(g==="component"&&r==="edit"){const w=L()(Re,x,{});$({type:me._H,actionType:r,modalType:g,data:{displayName:w.schema.displayName,category:w.category,icon:w.schema.icon}})}if(g==="addComponentToDynamicZone"&&r==="edit"){const w={...Ue,components:[],name:y,createComponent:!1,componentToCreate:{type:"component"}};$({type:me.VZ,attributeToEdit:w})}if(l){const Ee={...lt(L()(Re,Ie,[]),c),name:c};l==="component"&&r==="edit"&&(Ee.repeatable||Ot()(Ee,"repeatable",!1)),$(g==="customField"?{type:me.OY,customField:R,isEditing:r==="edit",modifiedDataToSetForEditing:Ee,forTarget:f}:{type:me.S0,attributeType:l,nameToSetForRelation:L()(Y,["0","title"],"error"),targetUid:L()(Y,["0","uid"],"error"),isEditing:r==="edit",modifiedDataToSetForEditing:Ee,step:D,forTarget:f})}}else $({type:me.c2})},[r,c,l,p,y,f,B,g]);const k=g==="contentType",fe=g==="component",Oe=g==="attribute",Le=g==="customField",ze=l==="component"&&Oe,qe=r==="create",Ye=L()(E,"createComponent",!1)||Rt,rt=D==="1",es=g==="editCategory",ts=g==="chooseAttribute",pa=(0,nt.E)(E.displayName||""),ga=L()(Re,[...x,"schema","attributes"],null),$o=async()=>{let Y;const Ie=Ye&&D==="1"?L()(E,"componentToCreate",{}):E;if(k)Y=Xe.contentType.schema(Object.keys(st),r==="edit",L()(Re,[...x,"uid"],null),Qe,ge,st);else if(fe)Y=Xe.component.schema(Object.keys(bt),E.category||"",Qe,r==="edit",L()(Re,[...x,"uid"],null),ge);else if(Le)Y=Xe.customField.schema({schemaAttributes:L()(Re,[...x,"schema","attributes"],[]),attributeType:R.type,reservedNames:Qe,schemaData:{modifiedData:E,initialData:ye},ctbFormsAPI:ge,customFieldValidator:R.options?.validator});else if(ze&&Ye&&rt)Y=Xe.component.schema(Object.keys(bt),L()(E,"componentToCreate.category",""),Qe,ge);else if(Oe&&!rt){const Ue=l==="relation"?"relation":E.type;let w=[];if(Ue==="relation"){const Ee=L()(E,["target"],null);w=L()(st,[Ee,"schema","attributes"],[]).filter(({name:Ze})=>r!=="edit"?!0:Ze!==ye.targetAttribute)}Y=Xe.attribute.schema(L()(Re,x,{}),Ue,Qe,w,{modifiedData:E,initialData:ye},ge)}else if(es)Y=Xe.editCategory.schema(P,ye,ge);else if(rt&&Ye)Y=Xe.component.schema(Object.keys(bt),L()(E,"componentToCreate.category",""),Qe,ge);else return;await Y.validate(Ie,{abortEarly:!1})},ns=(0,n.useCallback)(({target:{name:Y,value:Ie,type:Ue,...w}})=>{const Ee=["enumName","max","min","maxLength","minLength","regex","default"];let Fe;Ee.includes(Y)&&Ie===""?Fe=null:Fe=Ie;const Ze=Object.assign({},$e);Y==="max"&&delete Ze.min,Y==="maxLength"&&delete Ze.minLength,delete Ze[Y],$({type:me.Ey,errors:Ze}),$({type:me.P0,keys:Y.split("."),value:Fe,...w})},[$,$e]),Be=async(Y,Ie=qe)=>{Y.preventDefault();try{await $o(),Go(Ie);const Ue=f==="components"?K:pa;if(k)if(qe)ot({...E,kind:C},g,pa),De({pathname:`/plugins/${se.Z}/content-types/${pa}`}),a({forTarget:f,targetUid:Ue});else{ro(Re,E)?(e(),ca(E)):re({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(g==="component")if(qe){const w=(0,nt.N)(E.displayName,E.category),{category:Ee,...Fe}=E;ot(Fe,"component",w,Ee),De({pathname:`/plugins/${se.Z}/component-categories/${Ee}/${w}`}),a({forTarget:f,targetUid:w})}else{Vt(E,g,K),e();return}else if(es){if(At()(ye.name)===At()(E.name)){e();return}ia(ye.name,E);return}else if(Le){const w={attributeToSet:{...E,customField:u},forTarget:f,targetUid:K,initialAttribute:ye};r==="edit"?la(w):Ce(w),Ie?a({forTarget:f,targetUid:Ue}):e();return}else if(Oe&&!Ye){if(l==="dynamiczone"){je(E,f,K,r==="edit",ye),qe?($({type:me.I}),I.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:E.name})):e();return}if(!ze){je(E,f,K,r==="edit",ye),Ie?a({forTarget:f,targetUid:Ue}):e();return}if(rt){i(),$({type:me.yC,forTarget:f});return}je(E,f,K,r==="edit",ye,!0),Ie?a({forTarget:f,targetUid:K}):e()}else if(Oe&&Ye){if(rt){H("willCreateComponentFromAttributesModal"),$({type:me.oF,forTarget:f}),i();return}const{category:w,type:Ee,...Fe}=Ct,Ze=(0,nt.N)(Ct.displayName,w);ot(Fe,Ee,Ze,w,Ye),je(E,f,K,!1),$({type:me.c2}),Ie?a({forTarget:"components",targetUid:Ze}):e();return}else{if(rt)if(Ye){const{category:w,type:Ee,...Fe}=E.componentToCreate,Ze=(0,nt.N)(E.componentToCreate.displayName,w);ot(Fe,Ee,Ze,w,Ye),oe(y,[Ze]),a({forTarget:"components",targetUid:Ze})}else oa(y,E.components),e();else console.error("This case is not handled");return}$({type:me.c2})}catch(Ue){const w=(0,m.CJ)(Ue);console.log({err:Ue,errors:w}),$({type:me.Ey,errors:w})}},zo=()=>{window.confirm(Pe({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),$({type:me.c2}))},as=()=>{Ae()(E,ye)?(e(),$({type:me.c2})):zo()},Vo=Y=>{if(Y==="advanced"){if(k){H("didSelectContentTypeSettings");return}f==="contentType"&&H("didSelectContentTypeFieldSettings")}},Go=Y=>{g==="attribute"&&f==="contentType"&&l!=="dynamiczone"&&Y&&H("willAddMoreFieldToContentType")},Ho=()=>!!(g==="editCategory"||g==="component"||on()(E,"createComponent")),ko=io(f,K,da);if(!B||!g)return null;const ss=L()(Xe,[g,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Xo=f==="components"||f==="component",os={customInputs:{"allowed-types-select":cn,"boolean-radio-group":On,"checkbox-with-number-field":Pn,"icon-picker":vs,"content-type-radio-group":An,"radio-group":ft,relation:Fs,"select-category":_s,"select-component":Ks,"select-components":js,"select-default-boolean":Cn,"select-number":zs,"select-date":$s,"toggle-draft-publish":Dn,"text-plural":Ts,"text-singular":Vs,"textarea-enum":Hs,...pe},componentToCreate:Ct,dynamicZoneTarget:y,formErrors:$e,isAddingAComponentToAnotherComponent:Xo,isCreatingComponentWhileAddingAField:Rt,mainBoxHeader:L()(Re,[...x,"schema","displayName"],""),modifiedData:E,naturePickerType:f,isCreating:qe,targetUid:K,forTarget:f},rs=ss.advanced({data:E,type:l,step:D,actionType:r,attributes:ga,extensions:ge,forTarget:f,contentTypeSchema:Re.contentType||{},customField:R}).sections,is=ss.base({data:E,type:l,step:D,actionType:r,attributes:ga,extensions:ge,forTarget:f,contentTypeSchema:Re.contentType||{},customField:R}).sections,Qo=$a(is),Yo=$a(rs),qo=Object.keys($e).some(Y=>Qo.includes(Y)),Jo=Object.keys($e).some(Y=>Yo.includes(Y)),wo=L()(st,[K,"schema","kind"]),er=()=>r==="edit"&&ga.every(({name:Y})=>Y!==E?.name),tr=()=>{er()&&H("didEditFieldNameOnContentType")};return n.createElement(nn.P,{onClose:as,labelledBy:"title"},n.createElement(Bn,{actionType:r,attributeName:c,categoryName:p,contentTypeKind:C,dynamicZoneTarget:y,modalType:g,forTarget:f,targetUid:K,attributeType:l,customFieldUid:u,showBackLink:Z}),ts&&n.createElement(bn,{attributes:ko,forTarget:f,kind:wo||"collectionType"}),!ts&&n.createElement("form",{onSubmit:Be},n.createElement(Zt.f,null,n.createElement(Pt.v,{label:"todo",id:"tabs",variant:"simple",ref:I,onTabChange:Y=>{Y===1&&Vo("advanced")}},n.createElement(v.k,{justifyContent:"space-between"},n.createElement(cs,{actionType:r,forTarget:f,kind:C,step:D,modalType:g,attributeType:l,attributeName:c,customField:R}),n.createElement(He.m,null,n.createElement(He.O,{hasError:qo},Pe({id:(0,d.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),n.createElement(He.O,{hasError:Jo,disabled:Ho()},Pe({id:(0,d.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),n.createElement(it.i,null),n.createElement(b.x,{paddingTop:6},n.createElement(ke.n,null,n.createElement(ke.x,null,n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(Sa,{form:is,formErrors:$e,genericInputProps:os,modifiedData:E,onChange:ns}))),n.createElement(ke.x,null,n.createElement(v.k,{direction:"column",alignItems:"stretch",gap:6},n.createElement(Sa,{form:rs,formErrors:$e,genericInputProps:os,modifiedData:E,onChange:ns}))))))),n.createElement(an.m,{endActions:n.createElement(xn,{deleteCategory:ra,deleteContentType:zt,deleteComponent:zt,categoryName:ye.name,isAttributeModal:g==="attribute",isCustomFieldModal:g==="customField",isComponentToDzModal:g==="addComponentToDynamicZone",isComponentAttribute:l==="component",isComponentModal:g==="component",isContentTypeModal:g==="contentType",isCreatingComponent:r==="create",isCreatingDz:r==="create",isCreatingComponentAttribute:E.createComponent||!1,isCreatingComponentInDz:E.createComponent||!1,isCreatingComponentWhileAddingAField:Rt,isCreatingContentType:r==="create",isEditingAttribute:r==="edit",isDzAttribute:l==="dynamiczone",isEditingCategory:g==="editCategory",isInFirstComponentStep:D==="1",onSubmitAddComponentAttribute:Be,onSubmitAddComponentToDz:Be,onSubmitCreateComponent:Be,onSubmitCreateContentType:Be,onSubmitCreateDz:Be,onSubmitEditAttribute:Be,onSubmitEditCategory:Be,onSubmitEditComponent:Be,onSubmitEditContentType:Be,onSubmitEditCustomFieldAttribute:Be,onSubmitEditDz:Be,onClickFinish:tr}),startActions:n.createElement(ce.z,{variant:"tertiary",onClick:as},Pe({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))};var Te=t(97699),co=t(21957);const uo=()=>e=>e[`${se.Z}_dataManagerProvider`]||co.E,mo=()=>(0,ja.P1)(uo(),e=>e);var po=t(68929),go=t.n(po),fo=t(57557),za=t.n(fo),yo=t(89734),Eo=t.n(yo);const ho=(e,a)=>{const o=Object.keys(e).filter(i=>{const r=L()(e,i,{}),c=L()(a,i,{}),l=L()(r,["isTemporary"],!1),u=!Ae()(r,c);return l||u});return(0,Ge.Z)(o)},vo=(e,a)=>{const o=Ga(L()(e,"schema.attributes",[]),a),i=L()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},i,{category:e.category},za()(e.schema,"attributes"),{attributes:o})},Va=(e,a=!1)=>{const o=L()(e,"uid",null),i=Ga(L()(e,"schema.attributes",[]),o),r=a?{category:L()(e,"category","")}:{},c=Object.assign(r,za()(e.schema,"attributes"),{attributes:i});return delete c.uid,delete c.isTemporary,delete c.visible,delete c.restrictRelationsTo,c},Ga=(e,a)=>e.reduce((o,{name:i,...r})=>{const c=r,l=c.target===a,u=c.type==="relation",p=L()(c,"targetAttribute",null);if(!l)if(u){const y=Object.assign({},c,{targetAttribute:Ha(p)});o[i]=$t(y)}else o[i]=$t(c);if(l){const y=c.target,f=Object.assign({},c,{target:y,targetAttribute:Ha(p)});o[i]=$t(f)}if(c.customField){const y={...c,type:"customField"};o[i]=$t(y)}return o},{}),Ha=e=>e==="-"?null:e,$t=e=>Object.keys(e).reduce((a,o)=>(e[o]!==null&&o!=="plugin"&&(a[o]=e[o]),a),{}),Mo=(e,a,o,i=!1)=>ho(e,a).map(l=>{const u=L()(e,l,{});return vo(u,o,i)}),To=e=>Eo()(Object.keys(e).map(a=>({visible:e[a].schema.visible,name:a,title:e[a].schema.displayName,plugin:e[a].plugin||null,uid:a,to:`/plugins/${se.Z}/content-types/${a}`,kind:e[a].schema.kind,restrictRelationsTo:e[a].schema.restrictRelationsTo})).filter(a=>a!==null),a=>go()(a.title)),ka=e=>e.reduce((a,o)=>(a[o.uid]=o,a),{}),bo=(e,a,o,i)=>{const r=a.reduce((u,p)=>{const y=L()(o,p,{});return u[p]=y,u},{});return{[i?"contentType":"component"]:e,components:r}},Co=e=>Object.keys(e).reduce((a,o)=>{const i=e[o].schema;return a[o]={...e[o],schema:{...i,attributes:Ro(i.attributes)}},a},{}),Ro=e=>Object.keys(e).reduce((a,o)=>(a.push({...e[o],name:o}),a),[]),Xa=Co;var Oo=t(26223);const Zo=e=>{const a=Object.keys(e).reduce((o,i)=>{const r=L()(e,[i],{}),c=r.uid;return Po(r)&&o.push(c),o},[]);return(0,Ge.Z)(a)},Po=e=>L()(e,["schema","attributes"],[]).some(o=>{const{type:i}=o;return i==="component"}),Ao=e=>{const a=Object.keys(e).reduce((o,i)=>{const r=e?.[i]?.schema?.attributes??[],c=Do(r);return[...o,...c]},[]);return(0,Ge.Z)(a)},Do=e=>e.reduce((a,o)=>{const{type:i,component:r}=o;return i==="component"&&a.push(r),a},[]),Qa=Ao,xo=(e,a)=>{const o=Object.keys(e).map(i=>L()(e,[i,...a],""));return(0,Ge.Z)(o)},Ya="did-not-kill-server",Lo="server is down";function Tt(e,a){return new Promise(o=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(i=>{if(i.status>=400)throw new Error(Lo);if(!a)throw new Error(Ya);o(e)}).catch(i=>{setTimeout(()=>Tt(e,i.message!==Ya).then(o),100)})})}const Io=e=>Object.values(e.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0),sa=({children:e,components:a,contentTypes:o,isLoading:i,isLoadingForDataToBeSet:r,initialData:c,modifiedData:l,reservedNames:u})=>{const p=(0,Ke.I0)(),y=(0,m.lm)(),{lockAppWithAutoreload:f,unlockAppWithAutoreload:g}=(0,m.Vu)(),{setCurrentStep:B}=(0,m.c1)(),{getPlugin:Z}=(0,m.j1)(),{apis:C}=Z(se.Z),{autoReload:D}=(0,m.L7)(),{formatMessage:K}=(0,M.Z)(),{trackUsage:R}=(0,m.rS)(),{refetchPermissions:I}=(0,m.vn)(),{pathname:N}=(0,_.TH)(),{onCloseModal:$}=(0,Ne.Z)(),re=(0,_.$B)(`/plugins/${se.Z}/content-types/:uid`),be=(0,_.$B)(`/plugins/${se.Z}/component-categories/:categoryUid/:componentUid`),De=(0,m.kY)(),{put:H,post:Pe,del:ie}=De,xe=(0,n.useRef)();xe.current=K;const ge=D,pe=re!==null,je=pe?"contentType":"component",Ce=pe?L()(re,"params.uid",null):L()(be,"params.componentUid",null),oe=(0,n.useRef)(),P=pe?"content-types":"components";oe.current=async()=>{try{const[{data:{data:E}},{data:{data:x}},{data:k}]=await Promise.all(["components","content-types","reserved-names"].map(qe=>De.get(`/${se.Z}/${qe}`))),fe=ka(E),Oe=Xa(fe),Le=ka(x),ze=Xa(Le);p({type:Te.Id,components:Oe,contentTypes:ze,reservedNames:k})}catch(E){console.error({err:E}),y({type:"warning",message:{id:"notification.error"}})}},(0,n.useEffect)(()=>(oe.current(),()=>{p({type:Te.Zl})}),[]),(0,n.useEffect)(()=>{!i&&Ce&&Vt()},[i,N,Ce]),(0,n.useEffect)(()=>{D||y({type:"info",message:{id:(0,d.Z)("notification.info.autoreaload-disable")}})},[D,y]);const oa=(E,x,k,fe=!1,Oe,Le=!1)=>{const ze=fe?Te.JO:Te.gz;p({type:ze,attributeToSet:E,forTarget:x,targetUid:k,initialAttribute:Oe,shouldAddComponentToData:Le})},st=({attributeToSet:E,forTarget:x,targetUid:k,initialAttribute:fe})=>{p({type:Te.Ir,attributeToSet:E,forTarget:x,targetUid:k,initialAttribute:fe})},bt=({attributeToSet:E,forTarget:x,targetUid:k,initialAttribute:fe})=>{p({type:Te.Ly,attributeToSet:E,forTarget:x,targetUid:k,initialAttribute:fe})},ot=(E,x)=>{p({type:Te.Uu,dynamicZoneTarget:E,componentsToAdd:x})},ra=(E,x,k,fe,Oe=!1)=>{const Le=x==="contentType"?Te.Sh:Te.VR;p({type:Le,data:E,componentCategory:fe,schemaType:x,uid:k,shouldAddComponentToData:Oe})},zt=(E,x)=>{p({type:Te.o_,dynamicZoneTarget:E,newComponents:x})},ia=(E,x,k="")=>{const fe=E==="components"?Te.lw:Te.ai;E==="contentType"&&R("willDeleteFieldOfContentType"),p({type:fe,mainDataKey:E,attributeToRemoveName:x,componentUid:k})},la=async E=>{try{const x=`/${se.Z}/component-categories/${E}`,k=window.confirm(K({id:(0,d.Z)("popUpWarning.bodyMessage.category.delete")}));$(),k&&(f(),await ie(x),await Tt(!0),await g(),await ye())}catch(x){console.error({err:x}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},ca=async()=>{try{const E=`/${se.Z}/${P}/${Ce}`,x=L()(l,[je,"isTemporary"],!1),k=window.confirm(K({id:(0,d.Z)(`popUpWarning.bodyMessage.${pe?"contentType":"component"}.delete`)}));if($(),k){if(x){p({type:Te.Ap});return}f(),await ie(E),await Tt(!0),await g(),await ye()}}catch(E){console.error({err:E}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},Re=async(E,x)=>{try{const k=`/${se.Z}/component-categories/${E}`;$(),f(),await H(k,x),await Tt(!0),await g(),await ye()}catch(k){console.error({err:k}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},da=()=>{const E=Object.assign({},a,l.components);if(!pe){const k=L()(l,"component",{});Ot()(E,L()(k,["uid"],""),k)}const x=Zo(E);return(0,Ge.Z)(x)},ua=()=>{const E=Qa(a),x=Qa(l.components||{});return(0,Ge.Z)([...x,...E])},ma=(E,x)=>{p({type:Te.NG,dzName:E,componentToRemoveIndex:x})},Vt=()=>{const E=pe?o:a,x=L()(E,Ce,{schema:{attributes:[]}}),k=(0,Oo.Z)(x.schema.attributes,a),fe=bo(x,k,a,pe),Oe=L()(x,"isTemporary",!1)&&Jt()(L()(x,"schema.attributes",[]))===0;p({type:Te.xx,schemaToSet:fe,hasJustCreatedSchema:Oe})},Qe=(0,n.useMemo)(()=>{const E=pe?o:a;return Ce==="create-content-type"?!1:!Object.keys(E).includes(Ce)&&!i},[a,o,Ce,pe,i]),Ct=(0,n.useMemo)(()=>{const E=Object.keys(o).filter(x=>L()(o,[x,"schema","visible"],!0)).sort();return L()(E,"0","create-content-type")},[o]);if(Qe)return n.createElement(_.l_,{to:`/plugins/${se.Z}/content-types/${Ct}`});const $e=async E=>{try{const x=L()(l,[je,"isTemporary"],!1),k={components:Mo(l.components,a,Ce,x)};if(pe){const Le=C.forms.mutateContentTypeSchema({...Va(l.contentType),...E},c.contentType);if(!Io(Le)){y({type:"warning",message:{id:(0,d.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}k.contentType=Le,R("willSaveContentType")}else k.component=Va(l.component,!0),R("willSaveComponent");f();const fe=`/${se.Z}/${P}`,Oe=x?fe:`${fe}/${Ce}`;if(x?await Pe(Oe,k):await H(Oe,k),await Tt(!0),await g(),x&&(c.contentType?.schema.kind==="collectionType"||c.contentType?.schema.kind==="singleType")&&B("contentTypeBuilder.success"),pe){R("didSaveContentType");const Le=L()(k,["contentType","schema","name"],""),ze=L()(c,["contentType","schema","name"],"");!x&&Le!==ze&&R("didEditNameOfContentType")}else R("didSaveComponent");await ye()}catch(x){pe||R("didNotSaveComponent"),console.error({err:x.response}),y({type:"warning",message:{id:"notification.error"}})}finally{g()}},ye=async()=>{await I()},Rt=(E,x,k)=>{p({type:Te.bi,data:E,schemaType:x,uid:k})};return n.createElement(tn.Z.Provider,{value:{addAttribute:oa,addCustomFieldAttribute:st,addCreatedComponentToDynamicZone:ot,allComponentsCategories:xo(a,["category"]),changeDynamicZoneComponents:zt,components:a,componentsGroupedByCategory:Qt()(a,"category"),componentsThatHaveOtherComponentInTheirAttributes:da(),contentTypes:o,createSchema:ra,deleteCategory:la,deleteData:ca,editCategory:Re,editCustomFieldAttribute:bt,isInDevelopmentMode:ge,initialData:c,isInContentTypeView:pe,modifiedData:l,nestedComponents:ua(),removeAttribute:ia,removeComponentFromDynamicZone:ma,reservedNames:u,setModifiedData:Vt,sortedContentTypesList:To(o),submitData:$e,updateSchema:Rt}},r?n.createElement(m.dO,null):n.createElement(n.Fragment,null,e,ge&&n.createElement(lo,null)))};sa.defaultProps={components:{}},sa.propTypes={children:s().node.isRequired,components:s().object,contentTypes:s().object.isRequired,isLoading:s().bool.isRequired,isLoadingForDataToBeSet:s().bool.isRequired,initialData:s().object.isRequired,modifiedData:s().object.isRequired,reservedNames:s().object.isRequired};const So=mo(),Bo=(0,Ke.$j)(So,null),Uo=(0,en.compose)(Bo)((0,n.memo)(sa));var Fo=t(6356);const qa={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Ja=({children:e})=>{const[a,o]=(0,n.useState)(qa),{trackUsage:i}=(0,m.rS)(),r=({attributeType:R,customFieldUid:I})=>{o(N=>({...N,actionType:"create",modalType:"customField",attributeType:R,customFieldUid:I}))},c=({attributeType:R,step:I})=>{a.forTarget==="contentType"&&i("didSelectContentTypeFieldType",{type:R}),o(N=>({...N,actionType:"create",modalType:"attribute",step:I,attributeType:R,showBackLink:!0}))},l=({dynamicZoneTarget:R,targetUid:I})=>{o(N=>({...N,dynamicZoneTarget:R,targetUid:I,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},u=({forTarget:R,targetUid:I})=>{o(N=>({...N,actionType:"create",forTarget:R,targetUid:I,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1}))},p=R=>{o(I=>({...I,...R,isOpen:!0}))},y=R=>{o(I=>({...I,categoryName:R,actionType:"edit",modalType:"editCategory",isOpen:!0}))},f=({forTarget:R,targetUid:I,attributeName:N,attributeType:$,customFieldUid:re})=>{o(be=>({...be,modalType:"customField",customFieldUid:re,actionType:"edit",forTarget:R,targetUid:I,attributeName:N,attributeType:$,isOpen:!0}))},g=({forTarget:R,targetUid:I,attributeName:N,attributeType:$,step:re})=>{o(be=>({...be,modalType:"attribute",actionType:"edit",forTarget:R,targetUid:I,attributeName:N,attributeType:$,step:re,isOpen:!0}))},B=({modalType:R,forTarget:I,targetUid:N,kind:$})=>{o(re=>({...re,modalType:R,actionType:"edit",forTarget:I,targetUid:N,kind:$,isOpen:!0}))},Z=()=>{o(qa)},C=({forTarget:R,targetUid:I})=>{o(N=>({...N,forTarget:R,targetUid:I,modalType:"chooseAttribute"}))},D=()=>{o(R=>({...R,attributeType:"component",modalType:"attribute",step:"2"}))},K=({dynamicZoneTarget:R})=>{o(I=>({...I,dynamicZoneTarget:R,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return n.createElement(Fo.Z.Provider,{value:{...a,onClickSelectField:c,onClickSelectCustomField:r,onCloseModal:Z,onNavigateToChooseAttributeModal:C,onNavigateToAddCompoToDZModal:K,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:D,onOpenModalAddField:u,onOpenModalCreateSchema:p,onOpenModalEditCategory:y,onOpenModalEditField:g,onOpenModalEditCustomField:f,onOpenModalEditSchema:B,setFormModalNavigationState:o}},e)};Ja.propTypes={children:s().node.isRequired};const Wo=Ja;var No=t(5391);const _o=(0,n.lazy)(()=>t.e(5905).then(t.bind(t,3500))),Ko=()=>{const{url:e}=(0,_.$B)(),{categoryUid:a}=(0,_.UO)();return n.createElement(n.Suspense,{fallback:n.createElement(m.dO,null)},n.createElement(_.rs,null,n.createElement(_.AW,{path:`${e}/:componentUid`},n.createElement(_o,{categoryId:a}))))},wa=(0,n.lazy)(()=>t.e(5905).then(t.bind(t,3500))),jo=()=>{const{formatMessage:e}=(0,M.Z)(),a=e({id:`${se.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,m.c1)(),i=(0,n.useRef)(o);return(0,n.useEffect)(()=>{i.current&&i.current("contentTypeBuilder")},[]),n.createElement(m.O4,{permissions:No._.main},n.createElement(U.q,{title:a}),n.createElement(Wo,null,n.createElement(Uo,null,n.createElement(z.A,{sideNav:n.createElement(Ht,null)},n.createElement(n.Suspense,{fallback:n.createElement(m.dO,null)},n.createElement(_.rs,null,n.createElement(_.AW,{path:`/plugins/${se.Z}/content-types/create-content-type`,component:wa}),n.createElement(_.AW,{path:`/plugins/${se.Z}/content-types/:uid`,component:wa}),n.createElement(_.AW,{path:`/plugins/${se.Z}/component-categories/:categoryUid`,component:Ko})))))))}},90635:(q,X,t)=>{"use strict";t.d(X,{Z:()=>m});var n=t(72966);const m=U=>`${n.Z}.${U}`},89881:(q,X,t)=>{var n=t(47816),z=t(99291),m=z(n);q.exports=m},23933:(q,X,t)=>{var n=t(44239),z=t(37005),m="[object RegExp]";function U(M){return z(M)&&n(M)==m}q.exports=U},69199:(q,X,t)=>{var n=t(89881),z=t(98612);function m(U,M){var _=-1,b=z(U)?Array(U.length):[];return n(U,function(V,Q,ue){b[++_]=M(V,Q,ue)}),b}q.exports=m},82689:(q,X,t)=>{var n=t(29932),z=t(97786),m=t(67206),U=t(69199),M=t(71131),_=t(7518),b=t(85022),V=t(6557),Q=t(1469);function ue(G,A,j){A.length?A=n(A,function(F){return Q(F)?function(J){return z(J,F.length===1?F[0]:F)}:F}):A=[V];var O=-1;A=n(A,_(m));var ee=U(G,function(F,J,v){var W=n(A,function(ne){return ne(F)});return{criteria:W,index:++O,value:F}});return M(ee,function(F,J){return b(F,J,j)})}q.exports=ue},71131:q=>{function X(t,n){var z=t.length;for(t.sort(n);z--;)t[z]=t[z].value;return t}q.exports=X},26393:(q,X,t)=>{var n=t(33448);function z(m,U){if(m!==U){var M=m!==void 0,_=m===null,b=m===m,V=n(m),Q=U!==void 0,ue=U===null,G=U===U,A=n(U);if(!ue&&!A&&!V&&m>U||V&&Q&&G&&!ue&&!A||_&&Q&&G||!M&&G||!b)return 1;if(!_&&!V&&!A&&m<U||A&&M&&b&&!_&&!V||ue&&M&&b||!Q&&b||!G)return-1}return 0}q.exports=z},85022:(q,X,t)=>{var n=t(26393);function z(m,U,M){for(var _=-1,b=m.criteria,V=U.criteria,Q=b.length,ue=M.length;++_<Q;){var G=n(b[_],V[_]);if(G){if(_>=ue)return G;var A=M[_];return G*(A=="desc"?-1:1)}}return m.index-U.index}q.exports=z},99291:(q,X,t)=>{var n=t(98612);function z(m,U){return function(M,_){if(M==null)return M;if(!n(M))return m(M,_);for(var b=M.length,V=U?b:-1,Q=Object(M);(U?V--:++V<b)&&_(Q[V],V,Q)!==!1;);return M}}q.exports=z},96347:(q,X,t)=>{var n=t(23933),z=t(7518),m=t(31167),U=m&&m.isRegExp,M=U?z(U):n;q.exports=M},89734:(q,X,t)=>{var n=t(21078),z=t(82689),m=t(5976),U=t(16612),M=m(function(_,b){if(_==null)return[];var V=b.length;return V>1&&U(_,b[0],b[1])?b=[]:V>2&&U(b[0],b[1],b[2])&&(b=[b[0]]),z(_,n(b,1),[])});q.exports=M},39138:(q,X,t)=>{var n=t(80531),z=t(40180),m=t(62689),U=t(13218),M=t(96347),_=t(88016),b=t(83140),V=t(40554),Q=t(79833),ue=30,G="...",A=/\w*$/;function j(O,ee){var F=ue,J=G;if(U(ee)){var v="separator"in ee?ee.separator:v;F="length"in ee?V(ee.length):F,J="omission"in ee?n(ee.omission):J}O=Q(O);var W=O.length;if(m(O)){var ne=b(O);W=ne.length}if(F>=W)return O;var te=F-_(J);if(te<1)return J;var ae=ne?z(ne,0,te).join(""):O.slice(0,te);if(v===void 0)return ae+J;if(ne&&(te+=ae.length-te),M(v)){if(O.slice(te).search(v)){var le,he=ae;for(v.global||(v=RegExp(v.source,Q(A.exec(v))+"g")),v.lastIndex=0;le=v.exec(he);)var de=le.index;ae=ae.slice(0,de===void 0?te:de)}}else if(O.indexOf(n(v),te)!=te){var Se=ae.lastIndexOf(v);Se>-1&&(ae=ae.slice(0,Se))}return ae+J}q.exports=j},20573:(q,X,t)=>{"use strict";t.d(X,{P1:()=>Q});var n="NOT_FOUND";function z(G){var A;return{get:function(O){return A&&G(A.key,O)?A.value:n},put:function(O,ee){A={key:O,value:ee}},getEntries:function(){return A?[A]:[]},clear:function(){A=void 0}}}function m(G,A){var j=[];function O(v){var W=j.findIndex(function(te){return A(v,te.key)});if(W>-1){var ne=j[W];return W>0&&(j.splice(W,1),j.unshift(ne)),ne.value}return n}function ee(v,W){O(v)===n&&(j.unshift({key:v,value:W}),j.length>G&&j.pop())}function F(){return j}function J(){j=[]}return{get:O,put:ee,getEntries:F,clear:J}}var U=function(A,j){return A===j};function M(G){return function(j,O){if(j===null||O===null||j.length!==O.length)return!1;for(var ee=j.length,F=0;F<ee;F++)if(!G(j[F],O[F]))return!1;return!0}}function _(G,A){var j=typeof A=="object"?A:{equalityCheck:A},O=j.equalityCheck,ee=O===void 0?U:O,F=j.maxSize,J=F===void 0?1:F,v=j.resultEqualityCheck,W=M(ee),ne=J===1?z(W):m(J,W);function te(){var ae=ne.get(arguments);if(ae===n){if(ae=G.apply(null,arguments),v){var le=ne.getEntries(),he=le.find(function(de){return v(de.value,ae)});he&&(ae=he.value)}ne.put(arguments,ae)}return ae}return te.clearCache=function(){return ne.clear()},te}function b(G){var A=Array.isArray(G[0])?G[0]:G;if(!A.every(function(O){return typeof O=="function"})){var j=A.map(function(O){return typeof O=="function"?"function "+(O.name||"unnamed")+"()":typeof O}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+j+"]")}return A}function V(G){for(var A=arguments.length,j=new Array(A>1?A-1:0),O=1;O<A;O++)j[O-1]=arguments[O];var ee=function(){for(var J=arguments.length,v=new Array(J),W=0;W<J;W++)v[W]=arguments[W];var ne=0,te,ae={memoizeOptions:void 0},le=v.pop();if(typeof le=="object"&&(ae=le,le=v.pop()),typeof le!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof le+"]");var he=ae,de=he.memoizeOptions,Se=de===void 0?j:de,ve=Array.isArray(Se)?Se:[Se],We=b(v),d=G.apply(void 0,[function(){return ne++,le.apply(null,arguments)}].concat(ve)),Ve=G(function(){for(var Me=[],Ne=We.length,se=0;se<Ne;se++)Me.push(We[se].apply(null,arguments));return te=d.apply(null,Me),te});return Object.assign(Ve,{resultFunc:le,memoizedResultFunc:d,dependencies:We,lastResult:function(){return te},recomputations:function(){return ne},resetRecomputations:function(){return ne=0}}),Ve};return ee}var Q=V(_),ue=function(A,j){if(j===void 0&&(j=Q),typeof A!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof A));var O=Object.keys(A),ee=j(O.map(function(F){return A[F]}),function(){for(var F=arguments.length,J=new Array(F),v=0;v<F;v++)J[v]=arguments[v];return J.reduce(function(W,ne,te){return W[O[te]]=ne,W},{})});return ee}},32064:(q,X,t)=>{"use strict";t.d(X,{Q:()=>ue});var n=t(85893),z=t(53547),m=t(75621),U=t(1565),M=t(92577),_=t(21817),b=t(11047),V=t(75515);const Q=(0,U.default)(_.G)`
  &[aria-disabled='true'] {
    ${M.sg}
    &:active {
      ${M.sg}
    }
  }
  &:hover {
    ${M.yP}
  }
  &:active {
    ${M.tB}
  }
  ${M.PD}
`,ue=z.forwardRef(({variant:G="default",startIcon:A,endIcon:j,disabled:O=!1,children:ee,size:F="S",href:J,to:v,...W},ne)=>{const te=J?"_blank":void 0,ae=J?"noreferrer noopener":void 0,le=F==="S"?2:"10px",he=4;return(0,n.jsxs)(Q,{ref:ne,"aria-disabled":O,size:F,variant:G,target:te,rel:ae,to:O?void 0:v,href:O?"#":J,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:le,paddingLeft:he,paddingRight:he,paddingTop:le,pointerEvents:O?"none":void 0,...W,as:v&&!O?m.OL:"a",children:[A&&(0,n.jsx)(b.k,{"aria-hidden":!0,children:A}),(0,n.jsx)(V.Z,{variant:F==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:ee}),j&&(0,n.jsx)(b.k,{"aria-hidden":!0,children:j})]})})},38953:(q,X,t)=>{"use strict";t.d(X,{Q:()=>U});var n=t(85893),z=t(1565),m=t(67730);const U=({options:_,...b})=>(0,n.jsx)(m.NU,{...b,children:_.map(V=>"children"in V?(0,n.jsx)(m.Ab,{label:V.label,values:V.children.map(Q=>Q.value.toString()),children:V.children.map(Q=>(0,n.jsx)(M,{value:Q.value,children:Q.label},Q.value))},V.label):(0,n.jsx)(m.ML,{value:V.value,children:V.label},V.value))}),M=(0,z.default)(m.ML)`
  padding-left: ${({theme:_})=>_.spaces[7]};
`}}]);
